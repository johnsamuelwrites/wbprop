import{u as U,V as S,v as F,a as C,d as V,e as k,f as _,j as g,w as R,h as q,c as u,g as A,b as $,m as M,k as E,x as O,n as Q,y as j,P as G,_ as K}from"./index-DOGQ3ohg.js";import{g as H}from"./query-cache-DYhKbuAV.js";import{K as J}from"./vuetify-vendor-Cx-tRhyD.js";import{l as X,h as y,a3 as P,E as a,a2 as t,a1 as o,G as f,_ as n,W as b,$ as d,ag as c,F as Y,a4 as Z,u as x,j as ee}from"./vue-vendor-DZH70FcD.js";function ae(I){return{entityPrefix:"http://www.wikidata.org/entity/",propertyPrefix:"P",wikibaseOntology:"http://wikiba.se/ontology#",labelService:!0,supportedFeatures:{statements:!0,sitelinks:!0,qualifiers:!0,references:!0},...I}}const te={class:"settings-view"},le={class:"d-flex align-center mb-3"},se={class:"text-medium-emphasis"},ne={class:"text-uppercase"},ie=X({__name:"SettingsView",setup(I){const r=U(),T=J(),m=y(!1),s=y({id:"",name:"",sparqlEndpoint:""}),z=ee({get:()=>T.global.current.value.dark,set:i=>{T.global.name.value=i?"dark":"light"}});function W(){if(!s.value.id||!s.value.name||!s.value.sparqlEndpoint)return;const i=ae({id:s.value.id,name:s.value.name,sparqlEndpoint:s.value.sparqlEndpoint});r.addCustomConfig(i),m.value=!1,s.value={id:"",name:"",sparqlEndpoint:""}}function D(i){r.removeCustomConfig(i)}function h(i){return G.some(e=>e.id===i)}const v=H(),p=y(v.getStats()),w=y(!1);function B(){v.clear(),p.value=v.getStats(),w.value=!0,setTimeout(()=>{w.value=!1},3e3)}function L(){p.value=v.getStats()}return(i,e)=>(o(),P("div",te,[a(S,{class:"mb-4"},{default:t(()=>[a(C,{cols:"12"},{default:t(()=>[...e[7]||(e[7]=[f("h1",{class:"text-h4 font-weight-bold"},"Settings",-1),f("p",{class:"text-subtitle-1 text-medium-emphasis mt-1"}," Configure WBProp and manage Wikibase instances ",-1)])]),_:1})]),_:1}),a(S,null,{default:t(()=>[a(C,{cols:"12",md:"6"},{default:t(()=>[a(V,null,{default:t(()=>[a(k,null,{default:t(()=>[a(_,{icon:"mdi-palette",class:"mr-2"}),e[8]||(e[8]=n(" Appearance ",-1))]),_:1}),a(g,null,{default:t(()=>[a(R,{modelValue:z.value,"onUpdate:modelValue":e[0]||(e[0]=l=>z.value=l),label:"Dark Theme",color:"primary","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(C,{cols:"12",md:"6"},{default:t(()=>[a(V,null,{default:t(()=>[a(k,{class:"d-flex align-center"},{default:t(()=>[a(_,{icon:"mdi-cached",class:"mr-2"}),e[9]||(e[9]=n(" Query Cache ",-1)),a(q),a(u,{icon:"mdi-refresh",variant:"text",size:"small",onClick:L})]),_:1}),a(g,null,{default:t(()=>[f("div",le,[f("span",se,b(p.value.entries)+" cached "+b(p.value.entries===1?"query":"queries"),1),a(A,{size:"x-small",variant:"tonal",class:"ml-2"},{default:t(()=>[n(" TTL: "+b(Math.round(p.value.ttlMs/6e4))+"min ",1)]),_:1})]),a(u,{color:"warning",variant:"tonal",size:"small","prepend-icon":"mdi-delete-sweep",onClick:B},{default:t(()=>[...e[10]||(e[10]=[n(" Clear Cache ",-1)])]),_:1}),w.value?(o(),d($,{key:0,type:"success",variant:"tonal",density:"compact",class:"mt-3"},{default:t(()=>[...e[11]||(e[11]=[n(" Cache cleared successfully ",-1)])]),_:1})):c("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),a(S,{class:"mt-4"},{default:t(()=>[a(C,{cols:"12"},{default:t(()=>[a(V,null,{default:t(()=>[a(k,{class:"d-flex align-center"},{default:t(()=>[a(_,{icon:"mdi-database",class:"mr-2"}),e[13]||(e[13]=n(" Wikibase Instances ",-1)),a(q),a(u,{color:"primary","prepend-icon":"mdi-plus",onClick:e[1]||(e[1]=l=>m.value=!0)},{default:t(()=>[...e[12]||(e[12]=[n(" Add Instance ",-1)])]),_:1})]),_:1}),a(g,null,{default:t(()=>[a(M,null,{default:t(()=>[(o(!0),P(Y,null,Z(x(r).allConfigs,l=>(o(),d(Q,{key:l.id,title:l.name,subtitle:l.sparqlEndpoint},{prepend:t(()=>[a(j,{color:"primary",size:"40"},{default:t(()=>[f("span",ne,b(l.name.charAt(0)),1)]),_:2},1024)]),append:t(()=>[l.requiresAuthentication?(o(),d(A,{key:0,color:"warning",size:"small",class:"mr-2","prepend-icon":"mdi-lock"},{default:t(()=>[...e[14]||(e[14]=[n(" OAuth Required ",-1)])]),_:1})):c("",!0),l.id===x(r).activeConfig.id?(o(),d(A,{key:1,color:"success",size:"small",class:"mr-2"},{default:t(()=>[...e[15]||(e[15]=[n(" Active ",-1)])]),_:1})):c("",!0),l.id!==x(r).activeConfig.id?(o(),d(u,{key:2,variant:"text",color:"primary",size:"small",onClick:N=>x(r).setActiveConfig(l.id)},{default:t(()=>[...e[16]||(e[16]=[n(" Select ",-1)])]),_:1},8,["onClick"])):c("",!0),h(l.id)?c("",!0):(o(),d(u,{key:3,icon:"mdi-delete",variant:"text",color:"error",size:"small",onClick:N=>D(l.id)},null,8,["onClick"]))]),_:2},1032,["title","subtitle"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(F,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=l=>m.value=l),"max-width":"500"},{default:t(()=>[a(V,null,{default:t(()=>[a(k,null,{default:t(()=>[...e[17]||(e[17]=[n("Add Custom Wikibase Instance",-1)])]),_:1}),a(g,null,{default:t(()=>[a(E,{modelValue:s.value.id,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.id=l),label:"Instance ID",placeholder:"e.g., my-wikibase",variant:"outlined",density:"compact",class:"mb-3"},null,8,["modelValue"]),a(E,{modelValue:s.value.name,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.name=l),label:"Display Name",placeholder:"e.g., My Wikibase",variant:"outlined",density:"compact",class:"mb-3"},null,8,["modelValue"]),a(E,{modelValue:s.value.sparqlEndpoint,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.sparqlEndpoint=l),label:"SPARQL Endpoint URL",placeholder:"e.g., https://my-wikibase.org/sparql",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(O,null,{default:t(()=>[a(q),a(u,{variant:"text",onClick:e[5]||(e[5]=l=>m.value=!1)},{default:t(()=>[...e[18]||(e[18]=[n("Cancel",-1)])]),_:1}),a(u,{color:"primary",onClick:W},{default:t(()=>[...e[19]||(e[19]=[n("Add",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),me=K(ie,[["__scopeId","data-v-aeb71e70"]]);export{me as default};
//# sourceMappingURL=SettingsView-DFId1HgT.js.map

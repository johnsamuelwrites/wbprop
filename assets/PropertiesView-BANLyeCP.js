import{u as C,V as k,d as P,a as I,e as L,k as S,h as B,c as D,o as N,g as v,_ as Q}from"./index-DBPWIN5Y.js";import{S as T,Q as q}from"./query-builder-DjEuht2y.js";import{l as z,a3 as E,E as s,a2 as l,h as o,a1 as F,G as y,W as m,u as O,_,j as U}from"./vue-vendor-DZH70FcD.js";import"./vuetify-vendor-Cx-tRhyD.js";import"./query-cache-DYhKbuAV.js";const W={class:"properties-view"},j={class:"text-subtitle-1 text-medium-emphasis mt-1"},A=z({__name:"PropertiesView",setup(G){const d=C(),r=o(""),i=o(!1),c=o([]),h=o(1),u=o(25),x=[{title:"ID",key:"id",sortable:!0},{title:"Label",key:"label",sortable:!0},{title:"Datatype",key:"datatype",sortable:!0}];async function f(){i.value=!0;try{const e=new T(d.activeConfig),t=new q(d.activeConfig),a=(h.value-1)*u.value,n=t.buildAllPropertiesQuery(u.value,a),w=await e.query(n);c.value=w.results.bindings.map(p=>({id:b(p.property?.value??""),label:p.propertyLabel?.value??"",datatype:g(p.datatype?.value??"")}))}catch(e){console.error("Failed to load properties:",e)}finally{i.value=!1}}function b(e){const t=e.match(/[PQ]\d+$/);return t?t[0]:e}function g(e){const t=e.lastIndexOf("#"),a=e.lastIndexOf("/"),n=t>a?t:a;return n>=0?e.substring(n+1):e}const V=U(()=>{if(!r.value)return c.value;const e=r.value.toLowerCase();return c.value.filter(t=>t.id.toLowerCase().includes(e)||t.label.toLowerCase().includes(e))});return f(),(e,t)=>(F(),E("div",W,[s(k,{class:"mb-4"},{default:l(()=>[s(I,{cols:"12"},{default:l(()=>[t[1]||(t[1]=y("h1",{class:"text-h4 font-weight-bold"},"Properties",-1)),y("p",j," Browse all properties in "+m(O(d).activeConfig.name),1)]),_:1})]),_:1}),s(P,null,{default:l(()=>[s(L,{class:"d-flex align-center"},{default:l(()=>[s(S,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value=a),"prepend-inner-icon":"mdi-magnify",label:"Search properties","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mr-4",style:{"max-width":"400px"}},null,8,["modelValue"]),s(B),s(D,{icon:"mdi-refresh",variant:"text",loading:i.value,onClick:f},null,8,["loading"])]),_:1}),s(N,{headers:x,items:V.value,loading:i.value,"items-per-page":u.value,class:"elevation-0"},{"item.id":l(({item:a})=>[s(v,{size:"small",color:"primary",variant:"tonal"},{default:l(()=>[_(m(a.id),1)]),_:2},1024)]),"item.datatype":l(({item:a})=>[s(v,{size:"small",variant:"outlined"},{default:l(()=>[_(m(a.datatype||"Unknown"),1)]),_:2},1024)]),_:1},8,["items","loading","items-per-page"])]),_:1})]))}}),M=Q(A,[["__scopeId","data-v-29b005f6"]]);export{M as default};
//# sourceMappingURL=PropertiesView-BANLyeCP.js.map

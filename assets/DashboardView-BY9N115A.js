import{u as F,V as _,a as r,b as w,c as D,d as z,e as I,f as q,g as B,h as U,i as G,j as H,k as Q,l as $,m as J,n as K,_ as M}from"./index-DOGQ3ohg.js";import{u as O,a as X,b as Y,c as Z,d as ee,e as ae,C as k,B as b}from"./BarChart-DRiCrikA.js";import{l as te,a3 as x,E as t,a2 as a,$ as l,ag as n,j as c,a1 as s,G as C,W as p,u as e,_ as d,F as se,a4 as oe,h as le}from"./vue-vendor-DZH70FcD.js";import"./vuetify-vendor-Cx-tRhyD.js";import"./query-builder-DjEuht2y.js";import"./query-cache-DYhKbuAV.js";import"./d3-vendor-Ss9uNxAN.js";const re={class:"dashboard"},ie={class:"text-h4 font-weight-bold"},ne={class:"d-flex align-center"},de={class:"flex-grow-1"},ue={key:0,class:"d-flex justify-center py-10"},ce={key:2,class:"types-scroll"},pe=te({__name:"DashboardView",setup(fe){const i=F(),f=O(),m=X(),v=Y(),g=Z(),y=ee(),u=ae(),V=le(""),P=c(()=>i.activeConfig.id==="wikidata"),W=c(()=>i.activeConfig.id==="commons"),R=c(()=>i.activeConfig.availabilityNote),j=c(()=>i.activeConfig.requiresAuthentication),S=c(()=>i.activeConfig.authUrl),A=c(()=>i.activeConfig.cookieBasedAuth),T=c(()=>{const L=u.data.value??[],o=V.value.trim().toLowerCase();return o?L.filter(h=>h.toLowerCase().includes(o)):L});function E(){S.value&&window.open(S.value,"_blank")}return(L,o)=>(s(),x("div",re,[t(_,{class:"mb-4"},{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[C("h1",ie,p(e(i).activeConfig.name)+" Properties Dashboard ",1),o[1]||(o[1]=C("p",{class:"text-subtitle-1 text-medium-emphasis mt-1"}," Explore and visualize properties across the Wikibase instance ",-1))]),_:1})]),_:1}),j.value&&A.value?(s(),l(_,{key:0,class:"mb-2"},{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[t(w,{type:"info",variant:"tonal"},{default:a(()=>[C("div",ne,[C("div",de,[C("strong",null,p(e(i).activeConfig.name),1),o[2]||(o[2]=d(" requires authentication. Login with your Wikimedia account to access the SPARQL endpoint. After logging in, refresh this page. ",-1))]),S.value?(s(),l(D,{key:0,color:"primary",variant:"flat",class:"ml-4","prepend-icon":"mdi-login",onClick:E},{default:a(()=>[...o[3]||(o[3]=[d(" Login ",-1)])]),_:1})):n("",!0)])]),_:1})]),_:1})]),_:1})):R.value?(s(),l(_,{key:1,class:"mb-2"},{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[t(w,{type:"warning",variant:"tonal"},{default:a(()=>[d(p(R.value),1)]),_:1})]),_:1})]),_:1})):n("",!0),W.value?(s(),l(_,{key:2},{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[t(z,{class:"types-card"},{default:a(()=>[t(I,{class:"d-flex align-center"},{default:a(()=>[t(q,{icon:"mdi-format-list-bulleted-type",class:"mr-2",size:"small"}),o[4]||(o[4]=d(" Distinct RDF Types ",-1)),t(B,{size:"small",color:"primary",variant:"tonal",class:"ml-3"},{default:a(()=>[d(p(T.value.length)+" / "+p(e(u).data.value?.length??0),1)]),_:1}),t(U),t(D,{icon:"mdi-refresh",variant:"text",size:"small",loading:e(u).isLoading.value,onClick:e(u).refetch},null,8,["loading","onClick"])]),_:1}),t(G,null,{default:a(()=>[...o[5]||(o[5]=[d(" SELECT DISTINCT ?val WHERE { ?item rdf:type ?val. } ",-1)])]),_:1}),t(H,null,{default:a(()=>[t(Q,{modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=h=>V.value=h),label:"Filter types","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",class:"mb-3"},null,8,["modelValue"]),e(u).isLoading.value?(s(),x("div",ue,[t($,{indeterminate:"",color:"primary"})])):e(u).error.value?(s(),l(w,{key:1,type:"error",variant:"tonal",class:"mb-2"},{default:a(()=>[d(p(e(u).error.value),1)]),_:1})):(s(),x("div",ce,[t(J,{density:"compact",lines:"one"},{default:a(()=>[(s(!0),x(se,null,oe(T.value,(h,N)=>(s(),l(K,{key:h,title:h},{prepend:a(()=>[t(B,{size:"x-small",variant:"outlined",class:"mr-3"},{default:a(()=>[d(p(N+1),1)]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1})]))]),_:1})]),_:1})]),_:1})]),_:1})):(s(),l(_,{key:3},{default:a(()=>[t(r,{cols:"12",md:"6",lg:"4"},{default:a(()=>[t(k,{title:"Languages",subtitle:"Property labels by language",icon:"mdi-translate",loading:e(m).isLoading.value,error:e(m).error.value,"export-data":e(m).data.value??void 0,"export-filename":"languages",onRefresh:e(m).refetch},{default:a(()=>[e(m).data.value?(s(),l(b,{key:0,data:e(m).data.value,height:300},null,8,["data"])):n("",!0)]),_:1},8,["loading","error","export-data","onRefresh"])]),_:1}),t(r,{cols:"12",md:"6",lg:"4"},{default:a(()=>[t(k,{title:"Datatypes",subtitle:"Properties by datatype",icon:"mdi-code-tags",loading:e(f).isLoading.value,error:e(f).error.value,"export-data":e(f).data.value??void 0,"export-filename":"datatypes",onRefresh:e(f).refetch},{default:a(()=>[e(f).data.value?(s(),l(b,{key:0,data:e(f).data.value,height:300},null,8,["data"])):n("",!0)]),_:1},8,["loading","error","export-data","onRefresh"])]),_:1}),t(r,{cols:"12",md:"6",lg:"4"},{default:a(()=>[t(k,{title:"Properties",subtitle:"Top properties by statement count",icon:"mdi-format-list-bulleted",loading:e(v).isLoading.value,error:e(v).error.value,"export-data":e(v).data.value??void 0,"export-filename":"properties",onRefresh:e(v).refetch},{default:a(()=>[e(v).data.value?(s(),l(b,{key:0,data:e(v).data.value,height:300},null,8,["data"])):n("",!0)]),_:1},8,["loading","error","export-data","onRefresh"])]),_:1}),P.value?(s(),l(r,{key:0,cols:"12",md:"6"},{default:a(()=>[t(k,{title:"WikiProjects",subtitle:"Properties by WikiProject scope",icon:"mdi-account-group",loading:e(g).isLoading.value,error:e(g).error.value,"export-data":e(g).data.value??void 0,"export-filename":"wikiprojects",onRefresh:e(g).refetch},{default:a(()=>[e(g).data.value?(s(),l(b,{key:0,data:e(g).data.value,height:350},null,8,["data"])):n("",!0)]),_:1},8,["loading","error","export-data","onRefresh"])]),_:1})):n("",!0),t(r,{cols:"12",md:P.value?6:12},{default:a(()=>[t(k,{title:"Property Classes",subtitle:"Properties by class/type",icon:"mdi-shape",loading:e(y).isLoading.value,error:e(y).error.value,"export-data":e(y).data.value??void 0,"export-filename":"property-classes",onRefresh:e(y).refetch},{default:a(()=>[e(y).data.value?(s(),l(b,{key:0,data:e(y).data.value,height:350},null,8,["data"])):n("",!0)]),_:1},8,["loading","error","export-data","onRefresh"])]),_:1},8,["md"])]),_:1}))]))}}),be=M(pe,[["__scopeId","data-v-cdd83de3"]]);export{be as default};
//# sourceMappingURL=DashboardView-BY9N115A.js.map

import{r as Or,i as G,a as ke,S as nt,R as ve,b as q,c as le,_ as B,d as Ja,e as T,f as Dt,g as Qa,P as ei,h as Vr,j as ot,m as xe,p as an,t as nn,k as Oe,u as ye,s as ti,l as on,n as jt,G as ue,o as K,C as mr,q as W,v as yr,w as Lt,x as sn,y as xr,z as ri,A as ln,B as U,D as un,E as hn,F as cn,H as Ge,I as Ve,J as ae,K as be,L as Br,M as vn,N as dn,O as fn,Z as he,Q as gn,T as pn,U as mn,V as yn,W as ai,X as ii,Y as $,$ as xn,a0 as bn,a1 as wn,a2 as Sn,a3 as Xe,a4 as bt,a5 as An,a6 as _n,a7 as se,a8 as Te,a9 as Tn,aa as ni,ab as oi,ac as Cn,ad as br,ae as In,af as He,ag as ze,ah as Dn,ai as We,aj as Ln,ak as Mn,al as Rt,am as Pn,an as ce,ao as me,ap as kn,aq as Rn,ar as wr,as as Jt,at as Er,au as On,av as De,aw as Sr,ax as Vn,ay as Bn,az as wt,aA as St,aB as En,aC as si,aD as li,aE as fe,aF as Re,aG as Nn,aH as Gn,aI as ui,aJ as Nr,aK as At,aL as Be,aM as Ye,aN as Mt,aO as Hn,aP as zn,aQ as tt,aR as Gr,aS as Ar,aT as Wn,aU as hi,aV as _r,aW as Fn,aX as Qt,aY as Hr,aZ as Xn,a_ as Yn,a$ as Zn,b0 as Pt,b1 as Un,b2 as er,b3 as $n,b4 as tr,b5 as zr,b6 as ut,b7 as Wr,b8 as Fr,b9 as qn,ba as Kn,bb as jn,bc as ci,bd as vi,be as mt,bf as Ot,bg as di,bh as Qe,bi as Xr,bj as Jn,bk as fi,bl as gi,bm as rr,bn as pi,bo as Qn,bp as Tr,bq as eo,br as ie,bs as to,bt as Fe,bu as mi,bv as Yr,bw as ro,bx as ao,by as _t,bz as yi,bA as io,bB as no,bC as oo,bD as so,bE as Vt,bF as Zr,bG as Ur,bH as lo,bI as uo,bJ as ho,bK as co,bL as vo,bM as fo,bN as $r,bO as et,bP as go,bQ as po}from"./echarts-core-NshGY7fM.js";function mo(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var i=Or(r,t,e[0]);return i!=null?i+"":null}else if(a){for(var n=[],o=0;o<e.length;o++)n.push(Or(r,t,e[o]));return n.join(" ")}}function yo(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!G(t))return t+"";for(var a=[],i=0;i<e.length;i++){var n=r.getDimensionIndex(e[i]);n>=0&&a.push(t[n])}return a.join(" ")}function xo(r,t,e,a,i){var n=r.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=e.get(["lineStyle","width"])||0;o-=h/2,s-=h/2,l+=h,u+=h,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var c=new ve({shape:{x:o,y:s,width:l,height:u}});return c}function bo(r,t,e){var a=r.getArea(),i=ke(a.r0,1),n=ke(a.r,1),o=new nt({shape:{cx:ke(r.cx,1),cy:ke(r.cy,1),r0:i,r:n,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return o}function wo(r,t,e,a,i){if(r){if(r.type==="polar")return bo(r);if(r.type==="cartesian2d")return xo(r,t,e)}else return null;return null}function xi(r,t){return r.type===t}var So={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},Ao=function(r){return Math.round(r.length/2)};function _o(r){return{seriesType:r,reset:function(t,e,a){var i=t.getData(),n=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),c=a.getDevicePixelRatio(),d=Math.abs(h[1]-h[0])*(c||1),v=Math.round(s/d);if(isFinite(v)&&v>1){n==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/v)):n==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/v));var f=void 0;q(n)?f=So[n]:le(n)&&(f=n),f&&t.setData(i.downSample(i.mapDimension(u.dim),1/v,f,Ao))}}}}}var ar=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return Ja(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,i){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),s=n.dataToPoint(o);if(i)T(n.getAxes(),function(d,v){if(d.type==="category"&&a!=null){var f=d.getTicksCoords(),g=d.getTickModel().get("alignWithLabel"),p=o[v],m=a[v]==="x1"||a[v]==="y1";if(m&&!g&&(p+=1),f.length<2)return;if(f.length===2){s[v]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var x=void 0,y=void 0,b=1,w=0;w<f.length;w++){var A=f[w].coord,S=w===f.length-1?f[w-1].tickValue+b:f[w].tickValue;if(S===p){y=A;break}else if(S<p)x=A;else if(x!=null&&S>p){y=(A+x)/2;break}w===1&&(b=S-f[0].tickValue)}y==null&&(x?x&&(y=f[f.length-1].coord):y=f[0].coord),s[v]=d.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),h=l.getLayout("size"),c=n.getBaseAxis().isHorizontal()?0:1;s[c]+=u+h/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t})(Dt);Dt.registerClass(ar);var To=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Ja(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,i){return i.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Qa(ar.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t})(ar),Co=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),qr=(function(r){B(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new Co},t.prototype.buildPath=function(e,a){var i=a.cx,n=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),l=(s-o)*.5,u=o+l,h=a.startAngle,c=a.endAngle,d=a.clockwise,v=Math.PI*2,f=d?c-h<v:h-c<v;f||(h=c-(d?v:-v));var g=Math.cos(h),p=Math.sin(h),m=Math.cos(c),x=Math.sin(c);f?(e.moveTo(g*o+i,p*o+n),e.arc(g*u+i,p*u+n,l,-Math.PI+h,h,!d)):e.moveTo(g*s+i,p*s+n),e.arc(i,n,s,h,c,!d),e.arc(m*u+i,x*u+n,l,c-Math.PI*2,c-Math.PI,!d),o!==0&&e.arc(i,n,o,c,h,d)},t})(ei);function Io(r,t){t=t||{};var e=t.isRoundCap;return function(a,i,n){var o=i.position;if(!o||o instanceof Array)return Vr(a,i,n);var s=r(o),l=i.distance!=null?i.distance:5,u=this.shape,h=u.cx,c=u.cy,d=u.r,v=u.r0,f=(d+v)/2,g=u.startAngle,p=u.endAngle,m=(g+p)/2,x=e?Math.abs(d-v)/2:0,y=Math.cos,b=Math.sin,w=h+d*y(g),A=c+d*b(g),S="left",_="top";switch(s){case"startArc":w=h+(v-l)*y(m),A=c+(v-l)*b(m),S="center",_="top";break;case"insideStartArc":w=h+(v+l)*y(m),A=c+(v+l)*b(m),S="center",_="bottom";break;case"startAngle":w=h+f*y(g)+ht(g,l+x,!1),A=c+f*b(g)+ct(g,l+x,!1),S="right",_="middle";break;case"insideStartAngle":w=h+f*y(g)+ht(g,-l+x,!1),A=c+f*b(g)+ct(g,-l+x,!1),S="left",_="middle";break;case"middle":w=h+f*y(m),A=c+f*b(m),S="center",_="middle";break;case"endArc":w=h+(d+l)*y(m),A=c+(d+l)*b(m),S="center",_="bottom";break;case"insideEndArc":w=h+(d-l)*y(m),A=c+(d-l)*b(m),S="center",_="top";break;case"endAngle":w=h+f*y(p)+ht(p,l+x,!0),A=c+f*b(p)+ct(p,l+x,!0),S="left",_="middle";break;case"insideEndAngle":w=h+f*y(p)+ht(p,-l+x,!0),A=c+f*b(p)+ct(p,-l+x,!0),S="right",_="middle";break;default:return Vr(a,i,n)}return a=a||{},a.x=w,a.y=A,a.align=S,a.verticalAlign=_,a}}function Do(r,t,e,a){if(ot(a)){r.setTextConfig({rotation:a});return}else if(G(t)){r.setTextConfig({rotation:0});return}var i=r.shape,n=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(n+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:r.setTextConfig({rotation:0});return}var h=Math.PI*1.5-l;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),r.setTextConfig({rotation:h})}function ht(r,t,e){return t*Math.sin(r)*(e?-1:1)}function ct(r,t,e){return t*Math.cos(r)*(e?1:-1)}function je(r,t,e){var a=r.get("borderRadius");if(a==null)return e?{cornerRadius:0}:null;G(a)||(a=[a,a,a,a]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:xe(a,function(n){return an(n,i)})}}var Bt=Math.max,Et=Math.min;function Lo(r,t){var e=r.getArea&&r.getArea();if(xi(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var Mo=(function(r){B(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,i,n){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,i):this._renderNormal(e,a,i,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){nn(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,i,n){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var d=e.isAnimationEnabled()?e:null,v=Po(e,u);v&&this._enableRealtimeSort(v,s,i);var f=e.get("clip",!0)||v,g=Lo(u,s);o.removeClipPath();var p=e.get("roundCap",!0),m=e.get("showBackground",!0),x=e.getModel("backgroundStyle"),y=x.get("borderRadius")||0,b=[],w=this._backgroundEls,A=n&&n.isInitSort,S=n&&n.type==="changeAxisOrder";function _(C){var D=vt[u.type](s,C),L=No(u,c,D);return L.useStyle(x.getItemStyle()),u.type==="cartesian2d"?L.setShape("r",y):L.setShape("cornerRadius",y),b[C]=L,L}s.diff(l).add(function(C){var D=s.getItemModel(C),L=vt[u.type](s,C,D);if(m&&_(C),!(!s.hasValue(C)||!ea[u.type](L))){var R=!1;f&&(R=Kr[u.type](g,L));var P=jr[u.type](e,s,C,L,c,d,h.model,!1,p);v&&(P.forceLabelAnimation=!0),ta(P,s,C,D,L,e,c,u.type==="polar"),A?P.attr({shape:L}):v?Jr(v,d,P,L,C,c,!1,!1):Oe(P,{shape:L},e,C),s.setItemGraphicEl(C,P),o.add(P),P.ignore=R}}).update(function(C,D){var L=s.getItemModel(C),R=vt[u.type](s,C,L);if(m){var P=void 0;w.length===0?P=_(D):(P=w[D],P.useStyle(x.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",y):P.setShape("cornerRadius",y),b[C]=P);var te=vt[u.type](s,C),j=wi(c,te,u);ye(P,{shape:j},d,C)}var O=l.getItemGraphicEl(D);if(!s.hasValue(C)||!ea[u.type](R)){o.remove(O);return}var E=!1;if(f&&(E=Kr[u.type](g,R),E&&o.remove(O)),O?ti(O):O=jr[u.type](e,s,C,R,c,d,h.model,!!O,p),v&&(O.forceLabelAnimation=!0),S){var Z=O.getTextContent();if(Z){var H=on(Z);H.prevValue!=null&&(H.prevValue=H.value)}}else ta(O,s,C,L,R,e,c,u.type==="polar");A?O.attr({shape:R}):v?Jr(v,d,O,R,C,c,!0,S):ye(O,{shape:R},e,C,null),s.setItemGraphicEl(C,O),O.ignore=E,o.add(O)}).remove(function(C){var D=l.getItemGraphicEl(C);D&&jt(D,e,C)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new ue);I.removeAll();for(var M=0;M<b.length;++M)I.add(b[M]);o.add(I),this._backgroundEls=b,this._data=s},t.prototype._renderLarge=function(e,a,i){this._clear(),aa(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),aa(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&wo(e.coordinateSystem,!1,e),i=this.group;a?i.setClipPath(a):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,i){var n=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=a.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(o.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){n._updateSortWithinSameData(a,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,i){var n=[];return e.each(e.mapDimension(a.dim),function(o,s){var l=i(s);l=l??NaN,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:xe(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,i){for(var n=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(o,n.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:a(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var i=a.scale,n=i.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,i,n){if(this._isOrderChangedWithinSameData(e,a,i)){var o=this._dataSort(e,i,a);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,i){var n=a.baseAxis,o=this._dataSort(e,n,function(s){return e.get(e.mapDimension(a.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(n){jt(n,e,K(n).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(mr),Kr={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,n=r.y+r.height,o=Bt(t.x,r.x),s=Et(t.x+t.width,i),l=Bt(t.y,r.y),u=Et(t.y+t.height,n),h=s<o,c=u<l;return t.x=h&&o>i?s:o,t.y=c&&l>n?u:l,t.width=h?0:s-o,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var i=Et(t.r,r.r),n=Bt(t.r0,r.r0);t.r=i,t.r0=n;var o=i-n<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},jr={cartesian2d:function(r,t,e,a,i,n,o,s,l){var u=new ve({shape:W({},a),z2:1});if(u.__dataIndex=e,u.name="item",n){var h=u.shape,c=i?"height":"width";h[c]=0}return u},polar:function(r,t,e,a,i,n,o,s,l){var u=!i&&l?qr:nt,h=new u({shape:a,z2:1});h.name="item";var c=bi(i);if(h.calculateTextPosition=Io(c,{isRoundCap:u===qr}),n){var d=h.shape,v=i?"r":"endAngle",f={};d[v]=i?a.r0:a.startAngle,f[v]=a[v],(s?ye:Oe)(h,{shape:f},n)}return h}};function Po(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function Jr(r,t,e,a,i,n,o,s){var l,u;n?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(o?ye:Oe)(e,{shape:l},t,i,null);var h=t?r.baseAxis.model:null;(o?ye:Oe)(e,{shape:u},h,i)}function Qr(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var ko=["x","y","width","height"],Ro=["cx","cy","r","startAngle","endAngle"],ea={cartesian2d:function(r){return!Qr(r,ko)},polar:function(r){return!Qr(r,Ro)}},vt={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),i=e?Vo(e,a):0,n=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+n*i/2,y:a.y+o*i/2,width:a.width-n*i,height:a.height-o*i}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Oo(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function bi(r){return(function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}})(r)}function ta(r,t,e,a,i,n,o,s){var l=t.getItemVisual(e,"style");if(s){if(!n.get("roundCap")){var h=r.shape,c=je(a.getModel("itemStyle"),h,!0);W(h,c),r.setShape(h)}}else{var u=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var d=a.getShallow("cursor");d&&r.attr("cursor",d);var v=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",f=yr(a);Lt(r,f,{labelFetcher:n,labelDataIndex:e,defaultText:mo(n.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var g=r.getTextContent();if(s&&g){var p=a.get(["label","position"]);r.textConfig.inside=p==="middle"?!0:null,Do(r,p==="outside"?v:p,bi(o),a.get(["label","rotate"]))}sn(g,f,n.getRawValue(e),function(x){return yo(t,x)});var m=a.getModel(["emphasis"]);xr(r,m.get("focus"),m.get("blurScope"),m.get("disabled")),ri(r,a),Oo(i)&&(r.style.fill="none",r.style.stroke="none",T(r.states,function(x){x.style&&(x.style.fill=x.style.stroke="none")}))}function Vo(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,n)}var Bo=(function(){function r(){}return r})(),ra=(function(r){B(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Bo},t.prototype.buildPath=function(e,a){for(var i=a.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<i.length;h+=3)l[n]=u,l[o]=i[h+2],s[n]=i[h+n],s[o]=i[h+o],e.rect(s[0],s[1],l[0],l[1])},t})(ei);function aa(r,t,e,a){var i=r.getData(),n=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var h=new ra({shape:{points:u},incremental:!!a,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),e&&e.push(h)}var c=new ra({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,t.add(c),c.useStyle(i.getVisual("style")),c.style.stroke=null,K(c).seriesIndex=r.seriesIndex,r.get("silent")||(c.on("mousedown",ia),c.on("mousemove",ia)),e&&e.push(c)}var ia=ln(function(r){var t=this,e=Eo(t,r.offsetX,r.offsetY);K(t).dataIndex=e>=0?e:null},30,!1);function Eo(r,t,e){for(var a=r.baseDimIdx,i=1-a,n=r.shape.points,o=r.largeDataIndices,s=[],l=[],u=r.barWidth,h=0,c=n.length/3;h<c;h++){var d=h*3;if(l[a]=u,l[i]=n[d+2],s[a]=n[d+a],s[i]=n[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[h]}return-1}function wi(r,t,e){if(xi(e,"cartesian2d")){var a=t,i=e.getArea();return{x:r?a.x:i.x,y:r?i.y:a.y,width:r?a.width:i.width,height:r?i.height:a.height}}else{var i=e.getArea(),n=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:n.r0,r:r?i.r:n.r,startAngle:r?n.startAngle:0,endAngle:r?n.endAngle:Math.PI*2}}}function No(r,t,e){var a=r.type==="polar"?nt:ve;return new a({shape:wi(t,e,r),silent:!0,z2:0})}function Tu(r){r.registerChartView(Mo),r.registerSeriesModel(To),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,U(hn,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,un("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,_o("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var na=Math.PI*2,dt=Math.PI/180;function Si(r,t){return Ve(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ai(r,t){var e=Si(r,t),a=r.get("center"),i=r.get("radius");G(i)||(i=[0,i]);var n=ae(e.width,t.getWidth()),o=ae(e.height,t.getHeight()),s=Math.min(n,o),l=ae(i[0],s/2),u=ae(i[1],s/2),h,c,d=r.coordinateSystem;if(d){var v=d.dataToPoint(a);h=v[0]||0,c=v[1]||0}else G(a)||(a=[a,a]),h=ae(a[0],n)+e.x,c=ae(a[1],o)+e.y;return{cx:h,cy:c,r0:l,r:u}}function Go(r,t,e){t.eachSeriesByType(r,function(a){var i=a.getData(),n=i.mapDimension("value"),o=Si(a,e),s=Ai(a,e),l=s.cx,u=s.cy,h=s.r,c=s.r0,d=-a.get("startAngle")*dt,v=a.get("endAngle"),f=a.get("padAngle")*dt;v=v==="auto"?d-na:-v*dt;var g=a.get("minAngle")*dt,p=g+f,m=0;i.each(n,function(j){!isNaN(j)&&m++});var x=i.getSum(n),y=Math.PI/(x||m)*2,b=a.get("clockwise"),w=a.get("roseType"),A=a.get("stillShowZeroSum"),S=i.getDataExtent(n);S[0]=0;var _=b?1:-1,I=[d,v],M=_*f/2;cn(I,!b),d=I[0],v=I[1];var C=_i(a);C.startAngle=d,C.endAngle=v,C.clockwise=b;var D=Math.abs(v-d),L=D,R=0,P=d;if(i.setLayout({viewRect:o,r:h}),i.each(n,function(j,O){var E;if(isNaN(j)){i.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:c,r:w?NaN:h});return}w!=="area"?E=x===0&&A?y:j*y:E=D/m,E<p?(E=p,L-=p):R+=j;var Z=P+_*E,H=0,F=0;f>E?(H=P+_*E/2,F=H):(H=P+M,F=Z-M),i.setItemLayout(O,{angle:E,startAngle:H,endAngle:F,clockwise:b,cx:l,cy:u,r0:c,r:w?Ge(j,S,[c,h]):h}),P=Z}),L<na&&m)if(L<=.001){var te=D/m;i.each(n,function(j,O){if(!isNaN(j)){var E=i.getItemLayout(O);E.angle=te;var Z=0,H=0;te<f?(Z=d+_*(O+1/2)*te,H=Z):(Z=d+_*O*te+M,H=d+_*(O+1)*te-M),E.startAngle=Z,E.endAngle=H}})}else y=L/R,P=d,i.each(n,function(j,O){if(!isNaN(j)){var E=i.getItemLayout(O),Z=E.angle===p?p:j*y,H=0,F=0;Z<f?(H=P+_*Z/2,F=H):(H=P+M,F=P+_*Z-M),E.startAngle=H,E.endAngle=F,P+=_*Z}})})}var _i=be();function Ho(r){return{seriesType:r,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=t.getData();i.filterSelf(function(n){for(var o=i.getName(n),s=0;s<a.length;s++)if(!a[s].isSelected(o))return!1;return!0})}}}}var zo=Math.PI/180;function oa(r,t,e,a,i,n,o,s,l,u){if(r.length<2)return;function h(g){for(var p=g.rB,m=p*p,x=0;x<g.list.length;x++){var y=g.list[x],b=Math.abs(y.label.y-e),w=a+y.len,A=w*w,S=Math.sqrt(Math.abs((1-b*b/m)*A)),_=t+(S+y.len2)*i,I=_-y.label.x,M=y.targetTextWidth-I*i;Ti(y,M,!0),y.label.x=_}}function c(g){for(var p={list:[],maxY:0},m={list:[],maxY:0},x=0;x<g.length;x++)if(g[x].labelAlignTo==="none"){var y=g[x],b=y.label.y>e?m:p,w=Math.abs(y.label.y-e);if(w>=b.maxY){var A=y.label.x-t-y.len2*i,S=a+y.len,_=Math.abs(A)<S?Math.sqrt(w*w/(1-A*A/S/S)):S;b.rB=_,b.maxY=w}b.list.push(y)}h(p),h(m)}for(var d=r.length,v=0;v<d;v++)if(r[v].position==="outer"&&r[v].labelAlignTo==="labelLine"){var f=r[v].label.x-u;r[v].linePoints[1][0]+=f,r[v].label.x=u}fn(r,l,l+o)&&c(r)}function Wo(r,t,e,a,i,n,o,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<r.length;d++){var v=r[d].label;Nt(r[d])||(v.x<t?(h=Math.min(h,v.x),l.push(r[d])):(c=Math.max(c,v.x),u.push(r[d])))}for(var d=0;d<r.length;d++){var f=r[d];if(!Nt(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var v=f.label,g=f.linePoints,p=void 0;f.labelAlignTo==="edge"?v.x<t?p=g[2][0]-f.labelDistance-o-f.edgeDistance:p=o+i-f.edgeDistance-g[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?v.x<t?p=h-o-f.bleedMargin:p=o+i-c-f.bleedMargin:v.x<t?p=v.x-o-f.bleedMargin:p=o+i-v.x-f.bleedMargin,f.targetTextWidth=p,Ti(f,p)}}oa(u,t,e,a,1,i,n,o,s,c),oa(l,t,e,a,-1,i,n,o,s,h);for(var d=0;d<r.length;d++){var f=r[d];if(!Nt(f)&&f.linePoints){var v=f.label,g=f.linePoints,m=f.labelAlignTo==="edge",x=v.style.padding,y=x?x[1]+x[3]:0,b=v.style.backgroundColor?0:y,w=f.rect.width+b,A=g[1][0]-g[2][0];m?v.x<t?g[2][0]=o+f.edgeDistance+w+f.labelDistance:g[2][0]=o+i-f.edgeDistance-w-f.labelDistance:(v.x<t?g[2][0]=v.x+f.labelDistance:g[2][0]=v.x-f.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=v.y}}}function Ti(r,t,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var a=r.label,i=a.style,n=r.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,h=n.width+(o?0:l);if(t<h||e){var c=n.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-l);var d=a.getBoundingRect();a.setStyle("width",Math.ceil(d.width)),a.setStyle("backgroundColor",o)}else{var v=t-l,f=t<h?v:e?v>r.unconstrainedWidth?null:v:null;a.setStyle("width",f)}var g=a.getBoundingRect();n.width=g.width;var p=(a.style.margin||0)+2.1;n.height=g.height+p,n.y-=(n.height-c)/2}}}function Nt(r){return r.position==="center"}function Fo(r){var t=r.getData(),e=[],a,i,n=!1,o=(r.get("minShowLabelAngle")||0)*zo,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,h=s.x,c=s.y,d=s.height;function v(A){A.ignore=!0}function f(A){if(!A.ignore)return!0;for(var S in A.states)if(A.states[S].ignore===!1)return!0;return!1}t.each(function(A){var S=t.getItemGraphicEl(A),_=S.shape,I=S.getTextContent(),M=S.getTextGuideLine(),C=t.getItemModel(A),D=C.getModel("label"),L=D.get("position")||C.get(["emphasis","label","position"]),R=D.get("distanceToLabelLine"),P=D.get("alignTo"),te=ae(D.get("edgeDistance"),u),j=D.get("bleedMargin"),O=C.getModel("labelLine"),E=O.get("length");E=ae(E,u);var Z=O.get("length2");if(Z=ae(Z,u),Math.abs(_.endAngle-_.startAngle)<o){T(I.states,v),I.ignore=!0,M&&(T(M.states,v),M.ignore=!0);return}if(f(I)){var H=(_.startAngle+_.endAngle)/2,F=Math.cos(H),de=Math.sin(H),we,Se,st,Ee;a=_.cx,i=_.cy;var V=L==="inside"||L==="inner";if(L==="center")we=_.cx,Se=_.cy,Ee="center";else{var k=(V?(_.r+_.r0)/2*F:_.r*F)+a,X=(V?(_.r+_.r0)/2*de:_.r*de)+i;if(we=k+F*3,Se=X+de*3,!V){var N=k+F*(E+l-_.r),Y=X+de*(E+l-_.r),Q=N+(F<0?-1:1)*Z,re=Y;P==="edge"?we=F<0?h+te:h+u-te:we=Q+(F<0?-R:R),Se=re,st=[[k,X],[N,Y],[Q,re]]}Ee=V?"center":P==="edge"?F>0?"right":"left":F>0?"left":"right"}var z=Math.PI,J=0,ee=D.get("rotate");if(ot(ee))J=ee*(z/180);else if(L==="center")J=0;else if(ee==="radial"||ee===!0){var Ae=F<0?-H+z:-H;J=Ae}else if(ee==="tangential"&&L!=="outside"&&L!=="outer"){var ge=Math.atan2(F,de);ge<0&&(ge=z*2+ge);var lt=de>0;lt&&(ge=z+ge),J=ge-z}if(n=!!J,I.x=we,I.y=Se,I.rotation=J,I.setStyle({verticalAlign:"middle"}),V){I.setStyle({align:Ee});var kt=I.states.select;kt&&(kt.x+=I.x,kt.y+=I.y)}else{var Ze=I.getBoundingRect().clone();Ze.applyTransform(I.getComputedTransform());var Rr=(I.style.margin||0)+2.1;Ze.y-=Rr/2,Ze.height+=Rr,e.push({label:I,labelLine:M,position:L,len:E,len2:Z,minTurnAngle:O.get("minTurnAngle"),maxSurfaceAngle:O.get("maxSurfaceAngle"),surfaceNormal:new Br(F,de),linePoints:st,textAlign:Ee,labelDistance:R,labelAlignTo:P,edgeDistance:te,bleedMargin:j,rect:Ze,unconstrainedWidth:Ze.width,labelStyleWidth:I.style.width})}S.setTextConfig({inside:V})}}),!n&&r.get("avoidLabelOverlap")&&Wo(e,a,i,l,u,d,h,c);for(var g=0;g<e.length;g++){var p=e[g],m=p.label,x=p.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),y&&(T(m.states,v),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(x){var w=p.linePoints;y||!w?(T(x.states,v),x.ignore=!0):(vn(w,p.minTurnAngle),dn(w,p.surfaceNormal,p.maxSurfaceAngle),x.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new Br(w[0][0],w[0][1])})}}}var Xo=(function(r){B(t,r);function t(e,a,i){var n=r.call(this)||this;n.z2=2;var o=new he;return n.setTextContent(o),n.updateData(e,a,i,!0),n}return t.prototype.updateData=function(e,a,i,n){var o=this,s=e.hostModel,l=e.getItemModel(a),u=l.getModel("emphasis"),h=e.getItemLayout(a),c=W(je(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle)){o.setShape(c);return}if(n){o.setShape(c);var d=s.getShallow("animationType");s.ecModel.ssr?(Oe(o,{scaleX:0,scaleY:0},s,{dataIndex:a,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):d==="scale"?(o.shape.r=h.r0,Oe(o,{shape:{r:h.r}},s,a)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Oe(o,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,a)):(o.shape.endAngle=h.startAngle,ye(o,{shape:{endAngle:h.endAngle}},s,a))}else ti(o),ye(o,{shape:c},s,a);o.useStyle(e.getItemVisual(a,"style")),ri(o,l);var v=(h.startAngle+h.endAngle)/2,f=s.get("selectedOffset"),g=Math.cos(v)*f,p=Math.sin(v)*f,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,e,a),o.ensureState("emphasis").shape=W({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},je(u.getModel("itemStyle"),h)),W(o.ensureState("select"),{x:g,y:p,shape:je(l.getModel(["select","itemStyle"]),h)}),W(o.ensureState("blur"),{shape:je(l.getModel(["blur","itemStyle"]),h)});var x=o.getTextGuideLine(),y=o.getTextContent();x&&W(x.ensureState("select"),{x:g,y:p}),W(y.ensureState("select"),{x:g,y:p}),xr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,a,i){var n=this,o=a.getItemModel(i),s=o.getModel("labelLine"),l=a.getItemVisual(i,"style"),u=l&&l.fill,h=l&&l.opacity;Lt(n,yr(o),{labelFetcher:a.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(i,"normal")||a.getName(i)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var d=e.get(["label","position"]);if(d!=="outside"&&d!=="outer")n.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new gn,this.setTextGuideLine(v)),pn(this,yn(o),{stroke:u,opacity:mn(s.get(["lineStyle","opacity"]),h,1)})}},t})(nt),Yo=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,a,i,n){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var h=o.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<o.count();++c)h=o.getItemLayout(c);h&&(u=h.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var d=_i(e),v=new nt({shape:W(Ai(e,i),d)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,l.add(v)}o.diff(s).add(function(f){var g=new Xo(o,f,u);o.setItemGraphicEl(f,g),l.add(g)}).update(function(f,g){var p=s.getItemGraphicEl(g);p.updateData(o,f,u),p.off("click"),l.add(p),o.setItemGraphicEl(f,p)}).remove(function(f){var g=s.getItemGraphicEl(f);jt(g,e,f)}).execute(),Fo(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,a){var i=a.getData(),n=i.getItemLayout(0);if(n){var o=e[0]-n.cx,s=e[1]-n.cy,l=Math.sqrt(o*o+s*s);return l<=n.r&&l>=n.r0}},t.type="pie",t})(mr);function Zo(r,t,e){t=G(t)&&{coordDimensions:t}||W({encodeDefine:r.getEncode()},t);var a=r.getSource(),i=ai(a,t).dimensions,n=new ii(i,r);return n.initData(a,e),n}var Uo=(function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var a=this._getDataWithEncodedVisual();return a.getItemVisual(t,e)},r})(),$o=be(),qo=(function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Uo($(this.getData,this),$(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Zo(this,{coordDimensions:["value"],encodeDefaulter:U(xn,this)})},t.prototype.getDataParams=function(e){var a=this.getData(),i=$o(a),n=i.seats;if(!n){var o=[];a.each(a.mapDimension("value"),function(l){o.push(l)}),n=i.seats=bn(o,a.hostModel.get("percentPrecision"))}var s=r.prototype.getDataParams.call(this,e);return s.percent=n[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){wn(e,"labelLine",["show"]);var a=e.labelLine,i=e.emphasis.labelLine;a.show=a.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(Dt);function Ko(r){return{seriesType:r,reset:function(t,e){var a=t.getData();a.filterSelf(function(i){var n=a.mapDimension("value"),o=a.get(n,i);return!(ot(o)&&!isNaN(o)&&o<0)})}}}function Cu(r){r.registerChartView(Yo),r.registerSeriesModel(qo),Sn("pie",r.registerAction),r.registerLayout(U(Go,"pie")),r.registerProcessor(Ho("pie")),r.registerProcessor(Ko("pie"))}var jo=(function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t})(Xe),ir=(function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bt).models[0]},t.type="cartesian2dAxis",t})(Xe);An(ir,_n);var Ci={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Jo=Te({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ci),Cr=Te({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ci),Qo=Te({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Cr),es=se({logBase:10},Cr);const ts={category:Jo,value:Cr,time:Qo,log:es};var rs={value:1,category:1,time:1,log:1};function sa(r,t,e,a){T(rs,function(i,n){var o=Te(Te({},ts[n],!0),a,!0),s=(function(l){B(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=t+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var d=Tn(this),v=d?ni(h):{},f=c.getTheme();Te(h,f.get(n+"Axis")),Te(h,this.getDefaultOption()),h.type=la(h),d&&oi(h,v,d)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Cn.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+n,u.defaultOption=o,u})(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",la)}function la(r){return r.type||(r.data?"category":"value")}var as=(function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return xe(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),br(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r})(),nr=["x","y"];function ua(r){return r.type==="interval"||r.type==="time"}var is=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=nr,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!ua(e)||!ua(a))){var i=e.getExtent(),n=a.getExtent(),o=this.dataToPoint([i[0],n[0]]),s=this.dataToPoint([i[1],n[1]]),l=i[1]-i[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,c=(s[1]-o[1])/u,d=o[0]-i[0]*h,v=o[1]-n[0]*c,f=this._transform=[h,0,0,c,d,v];this._invTransform=In([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var a=this.getAxis("x"),i=this.getAxis("y");return a.contain(a.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,a){var i=this.dataToPoint(e),n=this.dataToPoint(a),o=this.getArea(),s=new He(i[0],i[1],n[0]-i[0],n[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,a,i){i=i||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return ze(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(n,a)),i[1]=l.toGlobalCoord(l.dataToCoord(o,a)),i},t.prototype.clampData=function(e,a){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),s=n.getExtent(),l=i.parse(e[0]),u=n.parse(e[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(e,a){var i=[];if(this._invTransform)return ze(i,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(e[0]),a),i[1]=o.coordToData(o.toLocalCoord(e[1]),a),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var a=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(a[0],a[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(a[0],a[1])-n+e,l=Math.max(i[0],i[1])-o+e;return new He(n,o,s,l)},t})(as),ns=(function(r){B(t,r);function t(e,a,i,n,o){var s=r.call(this,e,a,i)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),e&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(e,a){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Dn);function or(r,t,e){e=e||{};var a=r.coordinateSystem,i=t.axis,n={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,h=a.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,f=u==="x"?[c[2]-v,c[3]+v]:[c[0]-v,c[1]+v];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));f[d.onZero]=Math.max(Math.min(g,f[1]),f[0])}n.position=[u==="y"?f[d[l]]:c[0],u==="x"?f[d[l]]:c[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var p={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=p[s],n.labelOffset=o?f[d[s]]-f[d.onZero]:0,t.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),We(e.labelInside,t.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var m=t.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-m:m,n.z2=1,n}function ha(r){return r.get("coordinateSystem")==="cartesian2d"}function ca(r){var t={xAxisModel:null,yAxisModel:null};return T(t,function(e,a){var i=a.replace(/Model$/,""),n=r.getReferringComponents(i,bt).models[0];t[a]=n}),t}var Gt=Math.log;function os(r,t,e){var a=Ln.prototype,i=a.getTicks.call(e),n=a.getTicks.call(e,!0),o=i.length-1,s=a.getInterval.call(e),l=Mn(r,t),u=l.extent,h=l.fixMin,c=l.fixMax;if(r.type==="log"){var d=Gt(r.base);u=[Gt(u[0])/d,Gt(u[1])/d]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:c});var v=a.getExtent.call(r);h&&(u[0]=v[0]),c&&(u[1]=v[1]);var f=a.getInterval.call(r),g=u[0],p=u[1];if(h&&c)f=(p-g)/o;else if(h)for(p=u[0]+f*o;p<u[1]&&isFinite(p)&&isFinite(u[1]);)f=Rt(f),p=u[0]+f*o;else if(c)for(g=u[1]-f*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)f=Rt(f),g=u[1]-f*o;else{var m=r.getTicks().length-1;m>o&&(f=Rt(f));var x=f*o;p=Math.ceil(u[1]/f)*f,g=ke(p-x),g<0&&u[0]>=0?(g=0,p=ke(x)):p>0&&u[1]<=0&&(p=0,g=-ke(x))}var y=(i[0].value-n[0].value)/s,b=(i[o].value-n[o].value)/s;a.setExtent.call(r,g+f*y,p+f*b),a.setInterval.call(r,f),(y||b)&&a.setNiceExtent.call(r,g+f,p-f)}var ss=(function(){function r(t,e,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=nr,this._initCartesian(t,e,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=wr(o),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var d=+l[c],v=o[d],f=v.model,g=v.scale;Jt(g)&&f.get("alignTicks")&&f.get("interval")==null?h.push(v):(Er(g,f),Jt(g)&&(s=v))}h.length&&(s||(s=h.pop(),Er(s.scale,s.model)),T(h,function(p){os(p.scale,p.model,s.scale)}))}}i(a.x),i(a.y);var n={};T(a.x,function(o){va(a,"y",o,n)}),T(a.y,function(o){va(a,"x",o,n)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,a){var i=t.getBoxLayoutParams(),n=!a&&t.get("containLabel"),o=Ve(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(T(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=Pn(u);if(h){var c=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[c]-=h[c]+d,u.position==="top"?o.y+=h.height+d:u.position==="left"&&(o.x+=h.width+d)}}}),l()),T(this._coordsList,function(u){u.calcAffineTransform()});function l(){T(s,function(u){var h=u.isHorizontal(),c=h?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(c[d],c[1-d]),ls(u,h?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var a=this._axesMap[t];if(a!=null)return a[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var a="x"+t+"y"+e;return this._coordsMap[a]}ce(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e)return n[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,e,a){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,a=t.xAxisModel||e&&e.getReferringComponents("xAxis",bt).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",bt).models[0],n=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,me(o,s)<0&&(s=null);else if(a&&i)s=this.getCartesian(a.componentIndex,i.componentIndex);else if(a)l=this.getAxis("x",a.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,a){var i=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,T(s.x,function(h,c){T(s.y,function(d,v){var f="x"+c+"y"+v,g=new is(f);g.master=i,g.model=t,i._coordsMap[f]=g,i._coordsList.push(g),g.addAxis(h),g.addAxis(d)})});function u(h){return function(c,d){if(Ht(c,t)){var v=c.get("position");h==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var f=new ns(h,kn(c),[0,0],c.get("type"),v),g=f.type==="category";f.onBand=g&&c.get("boundaryGap"),f.inverse=c.get("inverse"),c.axis=f,f.model=c,f.grid=n,f.index=d,n._axesList.push(f),s[h][d]=f,l[h]++}}}},r.prototype._updateScale=function(t,e){T(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var n=i.model.get("categorySortInfo");i.scale.setSortInfo(n)}}),t.eachSeries(function(i){if(ha(i)){var n=ca(i),o=n.xAxisModel,s=n.yAxisModel;if(!Ht(o,e)||!Ht(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),h=l.getAxis("x"),c=l.getAxis("y");a(u,h),a(u,c)}},this);function a(i,n){T(Rn(i,n.dim),function(o){n.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],a=[];return T(this.getCartesians(),function(i){var n=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(n);me(e,n)<0&&e.push(n),me(a,o)<0&&a.push(o)}),{baseAxes:e,otherAxes:a}},r.create=function(t,e){var a=[];return t.eachComponent("grid",function(i,n){var o=new r(i,t,e);o.name="grid_"+n,o.resize(i,e,!0),i.coordinateSystem=o,a.push(o)}),t.eachSeries(function(i){if(ha(i)){var n=ca(i),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=nr,r})();function Ht(r,t){return r.getCoordSysModel()===t}function va(r,t,e,a){e.getAxesOnZeroOf=function(){return n?[n]:[]};var i=r[t],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)da(i[l])&&(n=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&da(i[u])&&!a[h(i[u])]){n=i[u];break}n&&(a[h(n)]=!0);function h(c){return c.dim+"_"+c.index}}function da(r){return r&&r.type!=="category"&&r.type!=="time"&&On(r)}function ls(r,t){var e=r.getExtent(),a=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return a-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return a-i+t}}var Ce=Math.PI,Ie=(function(){function r(t,e){this.group=new ue,this.opt=e,this.axisModel=t,se(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new ue({x:e.position[0],y:e.position[1],rotation:e.rotation});a.updateTransform(),this._transformGroup=a}return r.prototype.hasBuilder=function(t){return!!fa[t]},r.prototype.add=function(t){fa[t](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(t,e,a){var i=li(e-t),n,o;return At(i)?(o=a>0?"top":"bottom",n="center"):At(i-Ce)?(o=a>0?"bottom":"top",n="center"):(o="middle",i>0&&i<Ce?n=a>0?"right":"left":n=a>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r})(),fa={axisLine:function(r,t,e,a){var i=t.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var n=t.axis.getExtent(),o=a.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(ze(s,s,o),ze(l,l,o));var h=W({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new wt({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});St(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var d=t.get(["axisLine","symbol"]);if(d!=null){var v=t.get(["axisLine","symbolSize"]);q(d)&&(d=[d,d]),(q(v)||ot(v))&&(v=[v,v]);var f=En(t.get(["axisLine","symbolOffset"])||0,v),g=v[0],p=v[1];T([{rotate:r.rotation+Math.PI/2,offset:f[0],r:0},{rotate:r.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,x){if(d[x]!=="none"&&d[x]!=null){var y=si(d[x],-g/2,-p/2,g,p,h.stroke,!0),b=m.r+m.offset,w=u?l:s;y.attr({rotation:m.rotate,x:w[0]+b*Math.cos(r.rotation),y:w[1]-b*Math.sin(r.rotation),silent:!0,z2:11}),e.add(y)}})}}},axisTickLabel:function(r,t,e,a){var i=cs(e,a,t,r),n=ds(e,a,t,r);if(hs(t,n,i),vs(e,a,t,r.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=Vn(xe(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Bn(o)}},axisName:function(r,t,e,a){var i=We(r.axisName,t.get("name"));if(i){var n=t.get("nameLocation"),o=r.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),h=u[0]>u[1]?-1:1,c=[n==="start"?u[0]-h*l:n==="end"?u[1]+h*l:(u[0]+u[1])/2,pa(n)?r.labelOffset+o*l:0],d,v=t.get("nameRotate");v!=null&&(v=v*Ce/180);var f;pa(n)?d=Ie.innerTextLayout(r.rotation,v??r.rotation,o):(d=us(r.rotation,n,v||0,u),f=r.axisNameAvailableWidth,f!=null&&(f=Math.abs(f/Math.sin(d.rotation)),!isFinite(f)&&(f=null)));var g=s.getFont(),p=t.get("nameTruncate",!0)||{},m=p.ellipsis,x=We(r.nameTruncateMaxWidth,p.maxWidth,f),y=new he({x:c[0],y:c[1],rotation:d.rotation,silent:Ie.isLabelSilent(t),style:De(s,{text:i,font:g,overflow:"truncate",width:x,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(Sr({el:y,componentModel:t,itemName:i}),y.__fullText=i,y.anid="name",t.get("triggerEvent")){var b=Ie.makeAxisEventDataBase(t);b.targetType="axisName",b.name=i,K(y).eventData=b}a.add(y),y.updateTransform(),e.add(y),y.decomposeTransform()}}};function us(r,t,e,a){var i=li(e-r),n,o,s=a[0]>a[1],l=t==="start"&&!s||t!=="start"&&s;return At(i-Ce/2)?(o=l?"bottom":"top",n="center"):At(i-Ce*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",i<Ce*1.5&&i>Ce/2?n=l?"left":"right":n=l?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function hs(r,t,e){if(!Nn(r.axis)){var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var n=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=e[0],h=e[1],c=e[e.length-1],d=e[e.length-2];a===!1?(ne(n),ne(u)):ga(n,o)&&(a?(ne(o),ne(h)):(ne(n),ne(u))),i===!1?(ne(s),ne(c)):ga(l,s)&&(i?(ne(l),ne(d)):(ne(s),ne(c)))}}function ne(r){r&&(r.ignore=!0)}function ga(r,t){var e=r&&r.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(!(!e||!a)){var i=Gn([]);return ui(i,i,-r.rotation),e.applyTransform(Nr([],i,r.getLocalTransform())),a.applyTransform(Nr([],i,t.getLocalTransform())),e.intersect(a)}}function pa(r){return r==="middle"||r==="center"}function Ii(r,t,e,a,i){for(var n=[],o=[],s=[],l=0;l<r.length;l++){var u=r[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(ze(o,o,t),ze(s,s,t));var h=new wt({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,autoBatch:!0,silent:!0});St(h.shape,h.style.lineWidth),h.anid=i+"_"+r[l].tickValue,n.push(h)}return n}function cs(r,t,e,a){var i=e.axis,n=e.getModel("axisTick"),o=n.get("show");if(o==="auto"&&a.handleAutoShown&&(o=a.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=a.tickDirection*n.get("length"),u=i.getTicksCoords(),h=Ii(u,t.transform,l,se(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<h.length;c++)r.add(h[c]);return h}}function vs(r,t,e,a){var i=e.axis,n=e.getModel("minorTick");if(!(!n.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=a*n.get("length"),u=se(s.getLineStyle(),se(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var c=Ii(o[h],t.transform,l,u,"minorticks_"+h),d=0;d<c.length;d++)r.add(c[d])}}function ds(r,t,e,a){var i=e.axis,n=We(a.axisLabelShow,e.get(["axisLabel","show"]));if(!(!n||i.scale.isBlank())){var o=e.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(We(a.labelRotate,o.get("rotate"))||0)*Ce/180,h=Ie.innerTextLayout(a.rotation,u,a.labelDirection),c=e.getCategories&&e.getCategories(!0),d=[],v=Ie.isLabelSilent(e),f=e.get("triggerEvent");return T(l,function(g,p){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,x=g.formattedLabel,y=g.rawLabel,b=o;if(c&&c[m]){var w=c[m];ce(w)&&w.textStyle&&(b=new fe(w.textStyle,o,e.ecModel))}var A=b.getTextColor()||e.get(["axisLine","lineStyle","color"]),S=i.dataToCoord(m),_=b.getShallow("align",!0)||h.textAlign,I=Re(b.getShallow("alignMinLabel",!0),_),M=Re(b.getShallow("alignMaxLabel",!0),_),C=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||h.textVerticalAlign,D=Re(b.getShallow("verticalAlignMinLabel",!0),C),L=Re(b.getShallow("verticalAlignMaxLabel",!0),C),R=new he({x:S,y:a.labelOffset+a.labelDirection*s,rotation:h.rotation,silent:v,z2:10+(g.level||0),style:De(b,{text:x,align:p===0?I:p===l.length-1?M:_,verticalAlign:p===0?D:p===l.length-1?L:C,fill:le(A)?A(i.type==="category"?y:i.type==="value"?m+"":m,p):A})});if(R.anid="label_"+m,Sr({el:R,componentModel:e,itemName:x,formatterParamsExtra:{isTruncated:function(){return R.isTruncated},value:y,tickIndex:p}}),f){var P=Ie.makeAxisEventDataBase(e);P.targetType="axisLabel",P.value=y,P.tickIndex=p,i.type==="category"&&(P.dataIndex=m),K(R).eventData=P}t.add(R),R.updateTransform(),d.push(R),r.add(R),R.decomposeTransform()}),d}}function fs(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return gs(e,r,t),e.seriesInvolved&&ms(e,r),e}function gs(r,t,e){var a=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];T(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=rt(s.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=s;var h=s.model,c=h.getModel("tooltip",a);if(T(s.getAxes(),U(g,!1,null)),s.getTooltipAxes&&a&&c.get("show")){var d=c.get("trigger")==="axis",v=c.get(["axisPointer","type"])==="cross",f=s.getTooltipAxes(c.get(["axisPointer","axis"]));(d||v)&&T(f.baseAxes,U(g,v?"cross":!0,d)),v&&T(f.otherAxes,U(g,"cross",!1))}function g(p,m,x){var y=x.model.getModel("axisPointer",i),b=y.get("show");if(!(!b||b==="auto"&&!p&&!sr(y))){m==null&&(m=y.get("triggerTooltip")),y=p?ps(x,c,i,t,p,m):y;var w=y.get("snap"),A=y.get("triggerEmphasis"),S=rt(x.model),_=m||w||x.type==="category",I=r.axesInfo[S]={key:S,axis:x,coordSys:s,axisPointerModel:y,triggerTooltip:m,triggerEmphasis:A,involveSeries:_,snap:w,useHandle:sr(y),seriesModels:[],linkGroup:null};u[S]=I,r.seriesInvolved=r.seriesInvolved||_;var M=ys(n,x);if(M!=null){var C=o[M]||(o[M]={axesInfo:{}});C.axesInfo[S]=I,C.mapper=n[M].mapper,I.linkGroup=C}}}})}function ps(r,t,e,a,i,n){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};T(s,function(d){l[d]=Be(o.get(d))}),l.snap=r.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var h=o.get(["label","show"]);if(u.show=h??!0,!n){var c=l.lineStyle=o.get("crossStyle");c&&se(u,c.textStyle)}}return r.model.getModel("axisPointer",new fe(l,e,a))}function ms(r,t){t.eachSeries(function(e){var a=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),n=e.get(["tooltip","show"],!0);!a||i==="none"||i===!1||i==="item"||n===!1||e.get(["axisPointer","show"],!0)===!1||T(r.coordSysAxesInfo[rt(a.model)],function(o){var s=o.axis;a.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function ys(r,t){for(var e=t.model,a=t.dim,i=0;i<r.length;i++){var n=r[i]||{};if(zt(n[a+"AxisId"],e.id)||zt(n[a+"AxisIndex"],e.componentIndex)||zt(n[a+"AxisName"],e.name))return i}}function zt(r,t){return r==="all"||G(r)&&me(r,t)>=0||r===t}function xs(r){var t=Ir(r);if(t){var e=t.axisPointerModel,a=t.axis.scale,i=e.option,n=e.get("status"),o=e.get("value");o!=null&&(o=a.parse(o));var s=sr(e);n==null&&(i.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function Ir(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[rt(r)]}function bs(r){var t=Ir(r);return t&&t.axisPointerModel}function sr(r){return!!r.get(["handle","show"])}function rt(r){return r.type+"||"+r.id}var ma={},Di=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i,n){this.axisPointerClass&&xs(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,a,i,n){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,a){var i=this._axisPointer;i&&i.remove(a)},t.prototype.dispose=function(e,a){this._disposeAxisPointer(a),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,a,i){var n=t.getAxisPointerClass(this.axisPointerClass);if(n){var o=bs(e);o?(this._axisPointer||(this._axisPointer=new n)).render(e,o,a,i):this._disposeAxisPointer(a)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,a){ma[e]=a},t.getAxisPointerClass=function(e){return e&&ma[e]},t.type="axis",t})(Ye),lr=be();function ws(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=a.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,c=lr(r).splitAreaColors,d=Mt(),v=0;if(c)for(var f=0;f<u.length;f++){var g=c.get(u[f].tickValue);if(g!=null){v=(g+(h-1)*f)%h;break}}var p=i.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=G(s)?s:[s];for(var f=1;f<u.length;f++){var x=i.toGlobalCoord(u[f].coord),y=void 0,b=void 0,w=void 0,A=void 0;i.isHorizontal()?(y=p,b=l.y,w=x-y,A=l.height,p=y+w):(y=l.x,b=p,w=l.width,A=x-b,p=b+A);var S=u[f-1].tickValue;S!=null&&d.set(S,v),t.add(new ve({anid:S!=null?"area_"+S:null,shape:{x:y,y:b,width:w,height:A},style:se({fill:s[v]},m),autoBatch:!0,silent:!0})),v=(v+1)%h}lr(r).splitAreaColors=d}}}function Ss(r){lr(r).splitAreaColors=null}var As=["axisLine","axisTickLabel","axisName"],_s=["splitArea","splitLine","minorSplitLine"],Li=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,a,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ue,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=or(s,e),u=new Ie(e,W({handleAutoShown:function(c){for(var d=s.coordinateSystem.getCartesians(),v=0;v<d.length;v++)if(Jt(d[v].getOtherAxis(e.axis).scale))return!0;return!1}},l));T(As,u.add,u),this._axisGroup.add(u.getGroup()),T(_s,function(c){e.get([c,"show"])&&Ts[c](this,this._axisGroup,e,s)},this);var h=n&&n.type==="changeAxisOrder"&&n.isInitSort;h||Hn(o,this._axisGroup,e),r.prototype.render.call(this,e,a,i,n)}},t.prototype.remove=function(){Ss(this)},t.type="cartesianAxis",t})(Di),Ts={splitLine:function(r,t,e,a){var i=e.axis;if(!i.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,u=n.get("showMaxLine")!==!1;s=G(s)?s:[s];for(var h=a.coordinateSystem.getRect(),c=i.isHorizontal(),d=0,v=i.getTicksCoords({tickModel:n}),f=[],g=[],p=o.getLineStyle(),m=0;m<v.length;m++){var x=i.toGlobalCoord(v[m].coord);if(!(m===0&&!l||m===v.length-1&&!u)){var y=v[m].tickValue;c?(f[0]=x,f[1]=h.y,g[0]=x,g[1]=h.y+h.height):(f[0]=h.x,f[1]=x,g[0]=h.x+h.width,g[1]=x);var b=d++%s.length,w=new wt({anid:y!=null?"line_"+y:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:se({stroke:s[b]},p),silent:!0});St(w.shape,p.lineWidth),t.add(w)}}}},minorSplitLine:function(r,t,e,a){var i=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=a.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var h=[],c=[],d=o.getLineStyle(),v=0;v<u.length;v++)for(var f=0;f<u[v].length;f++){var g=i.toGlobalCoord(u[v][f].coord);l?(h[0]=g,h[1]=s.y,c[0]=g,c[1]=s.y+s.height):(h[0]=s.x,h[1]=g,c[0]=s.x+s.width,c[1]=g);var p=new wt({anid:"minor_line_"+u[v][f].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:d,silent:!0});St(p.shape,d.lineWidth),t.add(p)}},splitArea:function(r,t,e,a){ws(r,t,e,a)}},Mi=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(Li),Cs=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=Mi.type,e}return t.type="yAxis",t})(Li),Is=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,a){this.group.removeAll(),e.get("show")&&this.group.add(new ve({shape:e.coordinateSystem.getRect(),style:se({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Ye),ya={offset:0};function Ds(r){r.registerComponentView(Is),r.registerComponentModel(jo),r.registerCoordinateSystem("cartesian2d",ss),sa(r,"x",ir,ya),sa(r,"y",ir,ya),r.registerComponentView(Mi),r.registerComponentView(Cs),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var xa="\0_ec_interaction_mutex";function ba(r,t){return!!Ls(r)[t]}function Ls(r){return r[xa]||(r[xa]={})}zn({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},tt);var Ms=(function(r){B(t,r);function t(e){var a=r.call(this)||this;a._zr=e;var i=$(a._mousedownHandler,a),n=$(a._mousemoveHandler,a),o=$(a._mouseupHandler,a),s=$(a._mousewheelHandler,a),l=$(a._pinchHandler,a);return a.enable=function(u,h){this.disable(),this._opt=se(Be(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",i),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},a.disable=function(){e.off("mousedown",i),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},a}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Gr(e)){for(var a=e.target;a;){if(a.draggable)return;a=a.__hostTarget||a.parent}var i=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,n)&&(this._x=i,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!yt("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||ba(this._zr,"globalPan"))){var a=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=a-n,l=i-o;this._x=a,this._y=i,this._opt.preventDefaultMouseMove&&Ar(e.event),Pi(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:a,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Gr(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var a=yt("zoomOnMouseWheel",e,this._opt),i=yt("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!a&&!i)){if(a){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;Wt(this,"zoom","zoomOnMouseWheel",e,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(i){var c=Math.abs(n),d=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);Wt(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!ba(this._zr,"globalPan")){var a=e.pinchScale>1?1.1:1/1.1;Wt(this,"zoom",null,e,{scale:a,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t})(Wn);function Wt(r,t,e,a,i){r.pointerChecker&&r.pointerChecker(a,i.originX,i.originY)&&(Ar(a.event),Pi(r,t,e,a,i))}function Pi(r,t,e,a,i){i.isAvailableBehavior=$(yt,null,e,a),r.trigger(t,i)}function yt(r,t,e){var a=e[r];return!r||a&&(!q(a)||t.event[a+"Key"])}var oe=be();function Ps(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,ki(t,e,r),T(e,function(a){T(t.TRANSFERABLE_METHODS,function(i){a.wrapMethod(i,U(ks,r))})}),t.wrapMethod("cloneShallow",U(Os,r)),T(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,U(Rs,r))}),hi(e[t.dataType]===t)}function ks(r,t){if(Es(this)){var e=W({},oe(this).datas);e[this.dataType]=t,ki(t,e,r)}else Dr(t,this.dataType,oe(this).mainData,r);return t}function Rs(r,t){return r.struct&&r.struct.update(),t}function Os(r,t){return T(oe(t).datas,function(e,a){e!==t&&Dr(e.cloneShallow(),a,t,r)}),t}function Vs(r){var t=oe(this).mainData;return r==null||t==null?t:oe(t).datas[r]}function Bs(){var r=oe(this).mainData;return r==null?[{data:r}]:xe(wr(oe(r).datas),function(t){return{type:t,data:oe(r).datas[t]}})}function Es(r){return oe(r).mainData===r}function ki(r,t,e){oe(r).datas={},T(t,function(a,i){Dr(a,i,r,e)})}function Dr(r,t,e,a){oe(e).datas[t]=r,oe(r).mainData=e,r.dataType=t,a.struct&&(r[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=r),r.getLinkedData=Vs,r.getLinkedDataAll=Bs}var Ns=(function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,a){le(t)&&(a=e,e=t,t=null),t=t||{},q(t)&&(t={order:t});var i=t.order||"preorder",n=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(a,this));for(var s=0;!o&&s<n.length;s++)n[s].eachNode(t,e,a);i==="postorder"&&e.call(a,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var a=0;a<this.children.length;a++){var i=this.children[a];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,a=this.children,i=a.length;e<i;e++){var n=a[e].getNodeById(t);if(n)return n}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,a=this.children,i=a.length;e<i;e++){var n=a[e].contains(t);if(n)return n}},r.prototype.getAncestors=function(t){for(var e=[],a=t?this:this.parentNode;a;)e.push(a),a=a.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,a=e.data.getItemModel(this.dataIndex);return a.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r})(),Gs=(function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,a){this.root.eachNode(t,e,a)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,a=0,i=e.length;a<i;a++)e[a].dataIndex=-1;for(var a=0,i=t.count();a<i;a++)e[t.getRawIndex(a)].dataIndex=a},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,a){var i=new r(e),n=[],o=1;s(t);function s(h,c){var d=h.value;o=Math.max(o,G(d)?d.length:1),n.push(h);var v=new Ns(_r(h.name,""),i);c?Hs(v,c):i.root=v,i._nodes.push(v);var f=h.children;if(f)for(var g=0;g<f.length;g++)s(f[g],v)}i.root.updateDepthAndHeight(0);var l=ai(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new ii(l,e);return u.initData(n),a&&a(u),Ps({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r})();function Hs(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function Lr(r,t,e){if(r&&me(t,r.type)>=0){var a=e.getData().tree.root,i=r.targetNode;if(q(i)&&(i=a.getNodeById(i)),i&&a.contains(i))return{node:i};var n=r.targetNodeId;if(n!=null&&(i=a.getNodeById(n)))return{node:i}}}function Ri(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function Oi(r,t){var e=Ri(r);return me(e,t)>=0}function Vi(r,t){for(var e=[];r;){var a=r.dataIndex;e.push({name:r.name,dataIndex:a,value:t.getRawValue(a)}),r=r.parentNode}return e.reverse(),e}var wa=["treemapZoomToNode","treemapRender","treemapMove"];function zs(r){for(var t=0;t<wa.length;t++)r.registerAction({type:wa[t],update:"updateView"},tt);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,a){a.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(n,o){var s=["treemapZoomToNode","treemapRootToNode"],l=Lr(e,s,n);if(l){var u=n.getViewRoot();u&&(e.direction=Oi(u,l.node)?"rollUp":"drillDown"),n.resetViewRoot(l.node)}}})}function Ws(r){var t=r.getData(),e=t.tree,a={};e.eachNode(function(i){for(var n=i;n&&n.depth>1;)n=n.parentNode;var o=Fn(r.ecModel,n.name||n.dataIndex+"",a);i.setVisual("decal",o)})}var Fs=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,a){var i={name:e.name,children:e.data};Bi(i);var n=e.levels||[],o=this.designatedVisualItemStyle={},s=new fe({itemStyle:o},this,a);n=e.levels=Xs(n,a);var l=xe(n||[],function(c){return new fe(c,s,a)},this),u=Gs.createTree(i,this,h);function h(c){c.wrapMethod("getItemModel",function(d,v){var f=u.getNodeByDataIndex(v),g=f?l[f.depth]:null;return d.parentModel=g||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,a,i){var n=this.getData(),o=this.getRawValue(e),s=n.getName(e);return Qt("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(e){var a=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return a.treeAncestors=Vi(i,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},W(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var a=this._idIndexMap;a||(a=this._idIndexMap=Mt(),this._idIndexMapCount=0);var i=a.get(e);return i==null&&a.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var a=this.getRawData().tree.root;(!e||e!==a&&!a.contains(e))&&(this._viewRoot=a)},t.prototype.enableAriaDecal=function(){Ws(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(Dt);function Bi(r){var t=0;T(r.children,function(a){Bi(a);var i=a.value;G(i)&&(i=i[0]),t+=i});var e=r.value;G(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),G(r.value)?r.value[0]=e:r.value=e}function Xs(r,t){var e=Hr(t.get("color")),a=Hr(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,n;T(r,function(s){var l=new fe(s),u=l.get("color"),h=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||h&&h!=="none")&&(n=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!n&&a&&(o.decal=a.slice()),r}}var Ys=8,Sa=8,Ft=5,Zs=(function(){function r(t){this.group=new ue,t.add(this.group)}return r.prototype.render=function(t,e,a,i){var n=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!n.get("show")||!a)){var s=n.getModel("itemStyle"),l=n.getModel("emphasis"),u=s.getModel("textStyle"),h=l.getModel(["itemStyle","textStyle"]),c={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,c,u),this._renderContent(t,c,s,l,u,h,i),Xn(o,c.pos,c.box)}},r.prototype._prepare=function(t,e,a){for(var i=t;i;i=i.parentNode){var n=_r(i.getModel().get("name"),""),o=a.getTextRect(n),s=Math.max(o.width+Ys*2,e.emptyItemWidth);e.totalWidth+=s+Sa,e.renderList.push({node:i,text:n,width:s})}},r.prototype._renderContent=function(t,e,a,i,n,o,s){for(var l=0,u=e.emptyItemWidth,h=t.get(["breadcrumb","height"]),c=Yn(e.pos,e.box),d=e.totalWidth,v=e.renderList,f=i.getModel("itemStyle").getItemStyle(),g=v.length-1;g>=0;g--){var p=v[g],m=p.node,x=p.width,y=p.text;d>c.width&&(d-=x-u,x=u,y=null);var b=new Zn({shape:{points:Us(l,0,x,h,g===v.length-1,g===0)},style:se(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new he({style:De(n,{text:y})}),textConfig:{position:"inside"},z2:Pt*1e4,onclick:U(s,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=De(o,{text:y}),b.ensureState("emphasis").style=f,xr(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),$s(b,t,m),l+=x+Sa}},r.prototype.remove=function(){this.group.removeAll()},r})();function Us(r,t,e,a,i,n){var o=[[i?r:r-Ft,t],[r+e,t],[r+e,t+a],[i?r:r-Ft,t+a]];return!n&&o.splice(2,0,[r+e+Ft,t+a/2]),!i&&o.push([r,t+a/2]),o}function $s(r,t,e){K(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Vi(e,t)}}var qs=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,a,i,n){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:a,delay:i,easing:n}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,a=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:a,aborted:a})}return this},r})();function Ks(){return new qs}var ur=ue,Aa=ve,_a=3,Ta="label",Ca="upperLabel",js=Pt*10,Js=Pt*2,Qs=Pt*3,Le=jn([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ia=function(r){var t=Le(r);return t.stroke=t.fill=t.lineWidth=null,t},Tt=be(),el=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=Ue(),e}return t.prototype.render=function(e,a,i,n){var o=a.findComponents({mainType:"series",subType:"treemap",query:n});if(!(me(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=a;var s=["treemapZoomToNode","treemapRootToNode"],l=Lr(n,s,e),u=n&&n.type,h=e.layoutInfo,c=!this._oldTree,d=this._storage,v=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:n.direction}:null,f=this._giveContainerGroup(h),g=e.get("animation"),p=this._doRender(f,e,v);g&&!c&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(f,p,e,v):p.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,l)}},t.prototype._giveContainerGroup=function(e){var a=this._containerGroup;return a||(a=this._containerGroup=new ur,this._initEvents(a),this.group.add(a)),a.x=e.x,a.y=e.y,a},t.prototype._doRender=function(e,a,i){var n=a.getData().tree,o=this._oldTree,s=Ue(),l=Ue(),u=this._storage,h=[];function c(x,y,b,w){return tl(a,l,u,i,s,h,x,y,b,w)}g(n.root?[n.root]:[],o&&o.root?[o.root]:[],e,n===o||!o,0);var d=p(u);if(this._oldTree=n,this._storage=l,this._controllerHost){var v=this.seriesModel.layoutInfo,f=n.root.getLayout();f.width===v.width&&f.height===v.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function g(x,y,b,w,A){w?(y=x,T(x,function(I,M){!I.isRemoved()&&_(M,M)})):new Un(y,x,S,S).add(_).update(_).remove(U(_,null)).execute();function S(I){return I.getId()}function _(I,M){var C=I!=null?x[I]:null,D=M!=null?y[M]:null,L=c(C,D,b,A);L&&g(C&&C.viewChildren||[],D&&D.viewChildren||[],L,w,A+1)}}function p(x){var y=Ue();return x&&T(x,function(b,w){var A=y[w];T(b,function(S){S&&(A.push(S),Tt(S).willDelete=!0)})}),y}function m(){T(d,function(x){T(x,function(y){y.parent&&y.parent.remove(y)})}),T(h,function(x){x.invisible=!0,x.dirty()})}},t.prototype._doAnimation=function(e,a,i,n){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(le(o)?0:o)||0,u=(le(s)?null:s)||"cubicOut",h=Ks();T(a.willDeleteEls,function(c,d){T(c,function(v,f){if(!v.invisible){var g=v.parent,p,m=Tt(g);if(n&&n.direction==="drillDown")p=g===n.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,y=0;m.willDelete||(x=m.nodeWidth/2,y=m.nodeHeight/2),p=d==="nodeGroup"?{x,y,style:{opacity:0}}:{shape:{x,y,width:0,height:0},style:{opacity:0}}}p&&h.add(v,p,l,0,u)}})}),T(this._storage,function(c,d){T(c,function(v,f){var g=a.lastsForAnimation[d][f],p={};g&&(v instanceof ue?g.oldX!=null&&(p.x=v.x,p.y=v.y,v.x=g.oldX,v.y=g.oldY):(g.oldShape&&(p.shape=W({},v.shape),v.setShape(g.oldShape)),g.fadein?(v.setStyle("opacity",0),p.style={opacity:1}):v.style.opacity!==1&&(p.style={opacity:1})),h.add(v,p,l,0,u))})},this),this._state="animating",h.finished($(function(){this._state="ready",a.renderFinally()},this)).start()},t.prototype._resetController=function(e){var a=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),a||(a=this._controller=new Ms(e.getZr()),a.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),a.on("pan",$(this._onPan,this)),a.on("zoom",$(this._onZoom,this)));var n=new He(0,0,e.getWidth(),e.getHeight());a.setPointerChecker(function(o,s,l){return n.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>_a||Math.abs(e.dy)>_a)){var a=this.seriesModel.getData().tree.root;if(!a)return;var i=a.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var a=e.originX,i=e.originY,n=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new He(s.x,s.y,s.width,s.height),u=null,h=this._controllerHost;u=h.zoomLimit;var c=h.zoom=h.zoom||1;if(c*=n,u){var d=u.min||0,v=u.max||1/0;c=Math.max(Math.min(v,c),d)}var f=c/h.zoom;h.zoom=c;var g=this.seriesModel.layoutInfo;a-=g.x,i-=g.y;var p=ci();er(p,p,[-a,-i]),$n(p,p,[f,f]),er(p,p,[a,i]),l.applyTransform(p),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var a=this;e.on("click",function(i){if(a._state==="ready"){var n=a.seriesModel.get("nodeClick",!0);if(n){var o=a.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)a._rootToNode(o);else if(n==="zoomToNode")a._zoomToNode(o);else if(n==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&tr(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,a,i){var n=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(a.getWidth()/2,a.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Zs(this.group))).render(e,a,i.node,function(o){n._state!=="animating"&&(Oi(e.getViewRoot(),o)?n._rootToNode({node:o}):n._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Ue(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,a){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,a),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t})(mr);function Ue(){return{nodeGroup:[],background:[],content:[]}}function tl(r,t,e,a,i,n,o,s,l,u){if(!o)return;var h=o.getLayout(),c=r.getData(),d=o.getModel();if(c.setItemGraphicEl(o.dataIndex,null),!h||!h.isInView)return;var v=h.width,f=h.height,g=h.borderWidth,p=h.invisible,m=o.getRawIndex(),x=s&&s.getRawIndex(),y=o.viewChildren,b=h.upperHeight,w=y&&y.length,A=d.getModel("itemStyle"),S=d.getModel(["emphasis","itemStyle"]),_=d.getModel(["blur","itemStyle"]),I=d.getModel(["select","itemStyle"]),M=A.get("borderRadius")||0,C=Se("nodeGroup",ur);if(!C)return;if(l.add(C),C.x=h.x||0,C.y=h.y||0,C.markRedraw(),Tt(C).nodeWidth=v,Tt(C).nodeHeight=f,h.isAboveViewRoot)return C;var D=Se("background",Aa,u,Js);D&&Z(C,D,w&&h.upperLabelHeight);var L=d.getModel("emphasis"),R=L.get("focus"),P=L.get("blurScope"),te=L.get("disabled"),j=R==="ancestor"?o.getAncestorsIndices():R==="descendant"?o.getDescendantIndices():R;if(w)zr(C)&&ut(C,!1),D&&(ut(D,!te),c.setItemGraphicEl(o.dataIndex,D),Wr(D,j,P));else{var O=Se("content",Aa,u,Qs);O&&H(C,O),D.disableMorphing=!0,D&&zr(D)&&ut(D,!1),ut(C,!te),c.setItemGraphicEl(o.dataIndex,C);var E=d.getShallow("cursor");E&&O.attr("cursor",E),Wr(C,j,P)}return C;function Z(V,k,X){var N=K(k);if(N.dataIndex=o.dataIndex,N.seriesIndex=r.seriesIndex,k.setShape({x:0,y:0,width:v,height:f,r:M}),p)F(k);else{k.invisible=!1;var Y=o.getVisual("style"),Q=Y.stroke,re=Ia(A);re.fill=Q;var z=Le(S);z.fill=S.get("borderColor");var J=Le(_);J.fill=_.get("borderColor");var ee=Le(I);if(ee.fill=I.get("borderColor"),X){var Ae=v-2*g;de(k,Q,Y.opacity,{x:g,y:0,width:Ae,height:b})}else k.removeTextContent();k.setStyle(re),k.ensureState("emphasis").style=z,k.ensureState("blur").style=J,k.ensureState("select").style=ee,Fr(k)}V.add(k)}function H(V,k){var X=K(k);X.dataIndex=o.dataIndex,X.seriesIndex=r.seriesIndex;var N=Math.max(v-2*g,0),Y=Math.max(f-2*g,0);if(k.culling=!0,k.setShape({x:g,y:g,width:N,height:Y,r:M}),p)F(k);else{k.invisible=!1;var Q=o.getVisual("style"),re=Q.fill,z=Ia(A);z.fill=re,z.decal=Q.decal;var J=Le(S),ee=Le(_),Ae=Le(I);de(k,re,Q.opacity,null),k.setStyle(z),k.ensureState("emphasis").style=J,k.ensureState("blur").style=ee,k.ensureState("select").style=Ae,Fr(k)}V.add(k)}function F(V){!V.invisible&&n.push(V)}function de(V,k,X,N){var Y=d.getModel(N?Ca:Ta),Q=_r(d.get("name"),null),re=Y.getShallow("show");Lt(V,yr(d,N?Ca:Ta),{defaultText:re?Q:null,inheritColor:k,defaultOpacity:X,labelFetcher:r,labelDataIndex:o.dataIndex});var z=V.getTextContent();if(z){var J=z.style,ee=qn(J.padding||0);N&&(V.setTextConfig({layoutRect:N}),z.disableLabelLayout=!0),z.beforeUpdate=function(){var ge=Math.max((N?N.width:V.shape.width)-ee[1]-ee[3],0),lt=Math.max((N?N.height:V.shape.height)-ee[0]-ee[2],0);(J.width!==ge||J.height!==lt)&&z.setStyle({width:ge,height:lt})},J.truncateMinChar=2,J.lineOverflow="truncate",we(J,N,h);var Ae=z.getState("emphasis");we(Ae?Ae.style:null,N,h)}}function we(V,k,X){var N=V?V.text:null;if(!k&&X.isLeafRoot&&N!=null){var Y=r.get("drillDownIcon",!0);V.text=Y?Y+" "+N:N}}function Se(V,k,X,N){var Y=x!=null&&e[V][x],Q=i[V];return Y?(e[V][x]=null,st(Q,Y)):p||(Y=new k,Y instanceof Kn&&(Y.z2=rl(X,N)),Ee(Q,Y)),t[V][m]=Y}function st(V,k){var X=V[m]={};k instanceof ur?(X.oldX=k.x,X.oldY=k.y):X.oldShape=W({},k.shape)}function Ee(V,k){var X=V[m]={},N=o.parentNode,Y=k instanceof ue;if(N&&(!a||a.direction==="drillDown")){var Q=0,re=0,z=i.background[N.getRawIndex()];!a&&z&&z.oldShape&&(Q=z.oldShape.width,re=z.oldShape.height),Y?(X.oldX=0,X.oldY=re):X.oldShape={x:Q,y:re,width:0,height:0}}X.fadein=!Y}}function rl(r,t){return r*js+t}var at=T,al=ce,Ct=-1,Mr=(function(){function r(t){var e=t.mappingMethod,a=t.type,i=this.option=Be(t);this.type=a,this.mappingMethod=e,this._normalizeData=ol[e];var n=r.visualHandlers[a];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(Xt(i),il(i)):e==="category"?i.categories?nl(i):Xt(i,!0):(hi(e!=="linear"||i.dataExtent),Xt(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return $(this._normalizeData,this)},r.listVisualTypes=function(){return wr(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,a){ce(t)?T(t,e,a):e.call(a,t)},r.mapVisual=function(t,e,a){var i,n=G(t)?[]:ce(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,s){var l=e.call(a,o,s);i?n=l:n[s]=l}),n},r.retrieveVisuals=function(t){var e={},a;return t&&at(r.visualHandlers,function(i,n){t.hasOwnProperty(n)&&(e[n]=t[n],a=!0)}),a?e:null},r.prepareVisualTypes=function(t){if(G(t))t=t.slice();else if(al(t)){var e=[];at(t,function(a,i){e.push(i)}),t=e}else return[];return t.sort(function(a,i){return i==="color"&&a!=="color"&&a.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,a){for(var i,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||q(l)&&l===t+"")return o;a&&d(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(gt(c[1],t,h[1]))return o}else if(h[1]===1/0){if(gt(c[0],h[0],t))return o}else if(gt(c[0],h[0],t)&&gt(c[1],t,h[1]))return o;a&&d(h[0],o),a&&d(h[1],o)}}if(a)return t===1/0?e.length-1:t===-1/0?0:i;function d(v,f){var g=Math.abs(v-t);g<n&&(n=g,i=f)}},r.visualHandlers={color:{applyVisual:$e("color"),getColorMapper:function(){var t=this.option;return $(t.mappingMethod==="category"?function(e,a){return!a&&(e=this._normalizeData(e)),Je.call(this,e)}:function(e,a,i){var n=!!i;return!a&&(e=this._normalizeData(e)),i=Ot(e,t.parsedVisual,i),n?i:mt(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return mt(Ot(t,this.option.parsedVisual),"rgba")},category:Je,piecewise:function(t,e){var a=cr.call(this,e);return a==null&&(a=mt(Ot(t,this.option.parsedVisual),"rgba")),a},fixed:Me}},colorHue:ft(function(t,e){return Qe(t,e)}),colorSaturation:ft(function(t,e){return Qe(t,null,e)}),colorLightness:ft(function(t,e){return Qe(t,null,null,e)}),colorAlpha:ft(function(t,e){return di(t,e)}),decal:{applyVisual:$e("decal"),_normalizedToVisual:{linear:null,category:Je,piecewise:null,fixed:null}},opacity:{applyVisual:$e("opacity"),_normalizedToVisual:hr([0,1])},liftZ:{applyVisual:$e("liftZ"),_normalizedToVisual:{linear:Me,category:Me,piecewise:Me,fixed:Me}},symbol:{applyVisual:function(t,e,a){var i=this.mapValueToVisual(t);a("symbol",i)},_normalizedToVisual:{linear:Da,category:Je,piecewise:function(t,e){var a=cr.call(this,e);return a==null&&(a=Da.call(this,t)),a},fixed:Me}},symbolSize:{applyVisual:$e("symbolSize"),_normalizedToVisual:hr([0,1])}},r})();function il(r){var t=r.pieceList;r.hasSpecialVisual=!1,T(t,function(e,a){e.originIndex=a,e.visual!=null&&(r.hasSpecialVisual=!0)})}function nl(r){var t=r.categories,e=r.categoryMap={},a=r.visual;if(at(t,function(o,s){e[o]=s}),!G(a)){var i=[];ce(a)?at(a,function(o,s){var l=e[s];i[l??Ct]=o}):i[Ct]=a,a=Ei(r,i)}for(var n=t.length-1;n>=0;n--)a[n]==null&&(delete e[t[n]],t.pop())}function Xt(r,t){var e=r.visual,a=[];ce(e)?at(e,function(n){a.push(n)}):e!=null&&a.push(e);var i={color:1,symbol:1};!t&&a.length===1&&!i.hasOwnProperty(r.type)&&(a[1]=a[0]),Ei(r,a)}function ft(r){return{applyVisual:function(t,e,a){var i=this.mapValueToVisual(t);a("color",r(e("color"),i))},_normalizedToVisual:hr([0,1])}}function Da(r){var t=this.option.visual;return t[Math.round(Ge(r,[0,1],[0,t.length-1],!0))]||{}}function $e(r){return function(t,e,a){a(r,this.mapValueToVisual(t))}}function Je(r){var t=this.option.visual;return t[this.option.loop&&r!==Ct?r%t.length:r]}function Me(){return this.option.visual[0]}function hr(r){return{linear:function(t){return Ge(t,r,this.option.visual,!0)},category:Je,piecewise:function(t,e){var a=cr.call(this,e);return a==null&&(a=Ge(t,r,this.option.visual,!0)),a},fixed:Me}}function cr(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var a=Mr.findPieceIndex(r,e),i=e[a];if(i&&i.visual)return i.visual[this.type]}}function Ei(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=xe(t,function(e){var a=vi(e);return a||[0,0,0,1]})),t}var ol={linear:function(r){return Ge(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=Mr.findPieceIndex(r,t,!0);if(e!=null)return Ge(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??Ct},fixed:tt};function gt(r,t,e){return r?t<=e:t<e}var sl="itemStyle",Ni=be();const ll={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||Gi(e,{},r.getViewRoot().getAncestors(),r)}};function Gi(r,t,e,a){var i=r.getModel(),n=r.getLayout(),o=r.hostTree.data;if(!(!n||n.invisible||!n.isInView)){var s=i.getModel(sl),l=ul(s,t,a),u=o.ensureUniqueItemVisual(r.dataIndex,"style"),h=s.get("borderColor"),c=s.get("borderColorSaturation"),d;c!=null&&(d=La(l),h=hl(c,d)),u.stroke=h;var v=r.viewChildren;if(!v||!v.length)d=La(l),u.fill=d;else{var f=cl(r,i,n,s,l,v);T(v,function(g,p){if(g.depth>=e.length||g===e[g.depth]){var m=vl(i,l,g,p,f,a);Gi(g,m,e,a)}})}}}function ul(r,t,e){var a=W({},t),i=e.designatedVisualItemStyle;return T(["color","colorAlpha","colorSaturation"],function(n){i[n]=t[n];var o=r.get(n);i[n]=null,o!=null&&(a[n]=o)}),a}function La(r){var t=Yt(r,"color");if(t){var e=Yt(r,"colorAlpha"),a=Yt(r,"colorSaturation");return a&&(t=Qe(t,null,null,a)),e&&(t=di(t,e)),t}}function hl(r,t){return t!=null?Qe(t,null,null,r):null}function Yt(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function cl(r,t,e,a,i,n){if(!(!n||!n.length)){var o=Zt(t,"color")||i.color!=null&&i.color!=="none"&&(Zt(t,"colorAlpha")||Zt(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var h=t.get("colorMappingBy"),c={type:o.name,dataExtent:u,visual:o.range};c.type==="color"&&(h==="index"||h==="id")?(c.mappingMethod="category",c.loop=!0):c.mappingMethod="linear";var d=new Mr(c);return Ni(d).drColorMappingBy=h,d}}}function Zt(r,t){var e=r.get(t);return G(e)&&e.length?{name:t,range:e}:null}function vl(r,t,e,a,i,n){var o=W({},t);if(i){var s=i.type,l=s==="color"&&Ni(i).drColorMappingBy,u=l==="index"?a:l==="id"?n.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var it=Math.max,It=Math.min,Ma=We,Pr=T,Hi=["itemStyle","borderWidth"],dl=["itemStyle","gapWidth"],fl=["upperLabel","show"],gl=["upperLabel","height"];const pl={seriesType:"treemap",reset:function(r,t,e,a){var i=e.getWidth(),n=e.getHeight(),o=r.option,s=Ve(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=o.size||[],u=ae(Ma(s.width,l[0]),i),h=ae(Ma(s.height,l[1]),n),c=a&&a.type,d=["treemapZoomToNode","treemapRootToNode"],v=Lr(a,d,r),f=c==="treemapRender"||c==="treemapMove"?a.rootRect:null,g=r.getViewRoot(),p=Ri(g);if(c!=="treemapMove"){var m=c==="treemapZoomToNode"?Sl(r,v,g,u,h):f?[f.width,f.height]:[u,h],x=o.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var y={squareRatio:o.squareRatio,sort:x,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(b),zi(g,y,!1,0),b=g.getLayout(),Pr(p,function(A,S){var _=(p[S+1]||g).getValue();A.setLayout(W({dataExtent:[_,_],borderWidth:0,upperHeight:0},b))})}var w=r.getData().tree.root;w.setLayout(Al(s,f,v),!0),r.setLayoutInfo(s),Wi(w,new He(-s.x,-s.y,i,n),p,g,0)}};function zi(r,t,e,a){var i,n;if(!r.isRemoved()){var o=r.getLayout();i=o.width,n=o.height;var s=r.getModel(),l=s.get(Hi),u=s.get(dl)/2,h=Fi(s),c=Math.max(l,h),d=l-u,v=c-u;r.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0),i=it(i-2*d,0),n=it(n-d-v,0);var f=i*n,g=ml(r,s,f,t,e,a);if(g.length){var p={x:d,y:v,width:i,height:n},m=It(i,n),x=1/0,y=[];y.area=0;for(var b=0,w=g.length;b<w;){var A=g[b];y.push(A),y.area+=A.getLayout().area;var S=wl(y,m,t.squareRatio);S<=x?(b++,x=S):(y.area-=y.pop().getLayout().area,Pa(y,m,p,u,!1),m=It(p.width,p.height),y.length=y.area=0,x=1/0)}if(y.length&&Pa(y,m,p,u,!0),!e){var _=s.get("childrenVisibleMin");_!=null&&f<_&&(e=!0)}for(var b=0,w=g.length;b<w;b++)zi(g[b],t,e,a+1)}}}function ml(r,t,e,a,i,n){var o=r.children||[],s=a.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=a.leafDepth!=null&&a.leafDepth<=n;if(i&&!l)return r.viewChildren=[];o=br(o,function(v){return!v.isRemoved()}),xl(o,s);var u=bl(t,o,s);if(u.sum===0)return r.viewChildren=[];if(u.sum=yl(t,e,u.sum,s,o),u.sum===0)return r.viewChildren=[];for(var h=0,c=o.length;h<c;h++){var d=o[h].getValue()/u.sum*e;o[h].setLayout({area:d})}return l&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:u.dataExtent},!0),o}function yl(r,t,e,a,i){if(!a)return e;for(var n=r.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[a==="asc"?o-l-1:l].getValue();u/e*t<n&&(s=l,e-=u)}return a==="asc"?i.splice(0,o-s):i.splice(s,o-s),e}function xl(r,t){return t&&r.sort(function(e,a){var i=t==="asc"?e.getValue()-a.getValue():a.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:i}),r}function bl(r,t,e){for(var a=0,i=0,n=t.length;i<n;i++)a+=t[i].getValue();var o=r.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&s.reverse()):(s=[1/0,-1/0],Pr(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:a,dataExtent:s}}function wl(r,t,e){for(var a=0,i=1/0,n=0,o=void 0,s=r.length;n<s;n++)o=r[n].getLayout().area,o&&(o<i&&(i=o),o>a&&(a=o));var l=r.area*r.area,u=t*t*e;return l?it(u*a/l,l/(u*i)):1/0}function Pa(r,t,e,a,i){var n=t===e.width?0:1,o=1-n,s=["x","y"],l=["width","height"],u=e[s[n]],h=t?r.area/t:0;(i||h>e[l[o]])&&(h=e[l[o]]);for(var c=0,d=r.length;c<d;c++){var v=r[c],f={},g=h?v.getLayout().area/h:0,p=f[l[o]]=it(h-2*a,0),m=e[s[n]]+e[l[n]]-u,x=c===d-1||m<g?m:g,y=f[l[n]]=it(x-2*a,0);f[s[o]]=e[s[o]]+It(a,p/2),f[s[n]]=u+It(a,y/2),u+=x,v.setLayout(f,!0)}e[s[o]]+=h,e[l[o]]-=h}function Sl(r,t,e,a,i){var n=(t||{}).node,o=[a,i];if(!n||n===e)return o;for(var s,l=a*i,u=l*r.option.zoomToNodeRatio;s=n.parentNode;){for(var h=0,c=s.children,d=0,v=c.length;d<v;d++)h+=c[d].getValue();var f=n.getValue();if(f===0)return o;u*=h/f;var g=s.getModel(),p=g.get(Hi),m=Math.max(p,Fi(g));u+=4*p*p+(3*p+m)*Math.pow(u,.5),u>Xr&&(u=Xr),n=s}u<l&&(u=l);var x=Math.pow(u/l,.5);return[a*x,i*x]}function Al(r,t,e){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!e)return a;var i=e.node,n=i.getLayout();if(!n)return a;for(var o=[n.width/2,n.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function Wi(r,t,e,a,i){var n=r.getLayout(),o=e[i],s=o&&o===r;if(!(o&&!s||i===e.length&&r!==a)){r.setLayout({isInView:!0,invisible:!s&&!t.intersect(n),isAboveViewRoot:s},!0);var l=new He(t.x-n.x,t.y-n.y,t.width,t.height);Pr(r.viewChildren||[],function(u){Wi(u,l,e,a,i+1)})}}function Fi(r){return r.get(fl)?r.get(gl):0}function Iu(r){r.registerSeriesModel(Fs),r.registerChartView(el),r.registerVisual(ll),r.registerLayout(pl),zs(r)}var Pe=be(),ka=Be,Ut=$,_l=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,a,i){var n=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=a,!(!i&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,t,e,a);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new ue,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),a.getZr().add(s);else{var d=U(Ra,e,c);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,e)}Va(s,e,!0),this._renderHandle(n)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var a=e.get("animation"),i=t.axis,n=i.type==="category",o=e.get("snap");if(!o&&!n)return!1;if(a==="auto"||a==null){var s=this.animationThreshold;if(n&&i.getBandWidth()>s)return!0;if(o){var l=Ir(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return a===!0},r.prototype.makeElOption=function(t,e,a,i,n){},r.prototype.createPointerEl=function(t,e,a,i){var n=e.pointer;if(n){var o=Pe(t).pointerEl=new Jn[n.type](ka(e.pointer));t.add(o)}},r.prototype.createLabelEl=function(t,e,a,i){if(e.label){var n=Pe(t).labelEl=new he(ka(e.label));t.add(n),Oa(n,i)}},r.prototype.updatePointerEl=function(t,e,a){var i=Pe(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),a(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,a,i){var n=Pe(t).labelEl;n&&(n.setStyle(e.label.style),a(n,{x:e.label.x,y:e.label.y}),Oa(n,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,a=this._api.getZr(),i=this._handle,n=e.getModel("handle"),o=e.get("status");if(!n.get("show")||!o||o==="hide"){i&&a.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=fi(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ar(u.event)},onmousedown:Ut(this._onHandleDragMove,this,0,0),drift:Ut(this._onHandleDragMove,this),ondragend:Ut(this._onHandleDragEnd,this)}),a.add(i)),Va(i,e,!1),i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");G(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,gi(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},r.prototype._moveHandleToValue=function(t,e){Ra(this._axisPointerModel,!e&&this._moveAnimation,this._handle,$t(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var a=this._handle;if(a){this._dragging=!0;var i=this.updateHandleTransform($t(a),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,a.stopAnimation(),a.attr($t(i)),Pe(a).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),a=this._group,i=this._handle;e&&a&&(this._lastGraphicKey=null,a&&e.remove(a),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),rr(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,a){return a=a||0,{x:t[a],y:t[1-a],width:e[a],height:e[1-a]}},r})();function Ra(r,t,e,a){Xi(Pe(e).lastProp,a)||(Pe(e).lastProp=a,t?ye(e,a,r):(e.stopAnimation(),e.attr(a)))}function Xi(r,t){if(ce(r)&&ce(t)){var e=!0;return T(t,function(a,i){e=e&&Xi(r[i],a)}),!!e}else return r===t}function Oa(r,t){r[t.get(["label","show"])?"show":"hide"]()}function $t(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function Va(r,t,e){var a=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(n){n.type!=="group"&&(a!=null&&(n.z=a),i!=null&&(n.zlevel=i),n.silent=e)})}function Tl(r){var t=r.get("type"),e=r.getModel(t+"Style"),a;return t==="line"?(a=e.getLineStyle(),a.fill=null):t==="shadow"&&(a=e.getAreaStyle(),a.stroke=null),a}function Cl(r,t,e,a,i){var n=e.get("value"),o=Yi(n,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=Tr(s.get("padding")||0),u=s.getFont(),h=eo(o,u),c=i.position,d=h.width+l[1]+l[3],v=h.height+l[0]+l[2],f=i.align;f==="right"&&(c[0]-=d),f==="center"&&(c[0]-=d/2);var g=i.verticalAlign;g==="bottom"&&(c[1]-=v),g==="middle"&&(c[1]-=v/2),Il(c,d,v,a);var p=s.get("backgroundColor");(!p||p==="auto")&&(p=t.get(["axisLine","lineStyle","color"])),r.label={x:c[0],y:c[1],style:De(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:p}),z2:10}}function Il(r,t,e,a){var i=a.getWidth(),n=a.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,n)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function Yi(r,t,e,a,i){r=t.scale.parse(r);var n=t.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var s={value:pi(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};T(a,function(l){var u=e.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),q(o)?n=o.replace("{value}",n):le(o)&&(n=o(s))}return n}function Zi(r,t,e){var a=ci();return ui(a,a,e.rotation),er(a,a,e.position),Qn([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],a)}function Dl(r,t,e,a,i,n){var o=Ie.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),Cl(t,a,i,n,{position:Zi(a.axis,r,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Ll(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function Ml(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}var Pl=(function(r){B(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,a,i,n,o){var s=i.axis,l=s.grid,u=n.get("type"),h=Ba(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(a,!0));if(u&&u!=="none"){var d=Tl(n),v=kl[u](s,c,h);v.style=d,e.graphicKey=v.type,e.pointer=v}var f=or(l.model,i);Dl(a,e,f,i,n,o)},t.prototype.getHandleTransform=function(e,a,i){var n=or(a.axis.grid.model,a,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=Zi(a.axis,e,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,a,i,n){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Ba(s,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[e.x,e.y];c[h]+=a[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var d=(u[1]+u[0])/2,v=[d,d];v[h]=c[h];var f=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:v,tooltipOption:f[h]}},t})(_l);function Ba(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var kl={line:function(r,t,e){var a=Ll([t,e[0]],[t,e[1]],Ea(r));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(r,t,e){var a=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:Ml([t-a/2,e[0]],[a,i],Ea(r))}}};function Ea(r){return r.dim==="x"?0:1}var Rl=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t})(Xe),pe=be(),Ol=T;function Ui(r,t,e){if(!ie.node){var a=t.getZr();pe(a).records||(pe(a).records={}),Vl(a,t);var i=pe(a).records[r]||(pe(a).records[r]={});i.handler=e}}function Vl(r,t){if(pe(r).initialized)return;pe(r).initialized=!0,e("click",U(Na,"click")),e("mousemove",U(Na,"mousemove")),e("globalout",El);function e(a,i){r.on(a,function(n){var o=Nl(t);Ol(pe(r).records,function(s){s&&i(s,n,o.dispatchAction)}),Bl(o.pendings,t)})}}function Bl(r,t){var e=r.showTip.length,a=r.hideTip.length,i;e?i=r.showTip[e-1]:a&&(i=r.hideTip[a-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function El(r,t,e){r.handler("leave",null,e)}function Na(r,t,e,a){t.handler(r,e,a)}function Nl(r){var t={showTip:[],hideTip:[]},e=function(a){var i=t[a.type];i?i.push(a):(a.dispatchAction=e,r.dispatchAction(a))};return{dispatchAction:e,pendings:t}}function vr(r,t){if(!ie.node){var e=t.getZr(),a=(pe(e).records||{})[r];a&&(pe(e).records[r]=null)}}var Gl=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){var n=a.getComponent("tooltip"),o=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";Ui("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,a){vr("axisPointer",a)},t.prototype.dispose=function(e,a){vr("axisPointer",a)},t.type="axisPointer",t})(Ye);function $i(r,t){var e=[],a=r.seriesIndex,i;if(a==null||!(i=t.getSeriesByIndex(a)))return{point:[]};var n=i.getData(),o=to(n,r);if(o==null||o<0||G(o))return{point:[]};var s=n.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,d=u.dim,v=c==="x"||c==="radius"?1:0,f=n.mapDimension(d),g=[];g[v]=n.get(f,o),g[1-v]=n.get(n.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(g)||[]}else e=l.dataToPoint(n.getValues(xe(l.dimensions,function(m){return n.mapDimension(m)}),o))||[];else if(s){var p=s.getBoundingRect().clone();p.applyTransform(s.transform),e=[p.x+p.width/2,p.y+p.height/2]}return{point:e,el:s}}var Ga=be();function Hl(r,t,e){var a=r.currTrigger,i=[r.x,r.y],n=r,o=r.dispatchAction||$(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){xt(i)&&(i=$i({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},t).point);var l=xt(i),u=n.axesInfo,h=s.axesInfo,c=a==="leave"||xt(i),d={},v={},f={list:[],map:{}},g={showPointer:U(Wl,v),showTooltip:U(Fl,f)};T(s.coordSysMap,function(m,x){var y=l||m.containPoint(i);T(s.coordSysAxesInfo[x],function(b,w){var A=b.axis,S=Ul(u,b);if(!c&&y&&(!u||S)){var _=S&&S.value;_==null&&!l&&(_=A.pointToData(i)),_!=null&&Ha(b,_,g,!1,d)}})});var p={};return T(h,function(m,x){var y=m.linkGroup;y&&!v[x]&&T(y.axesInfo,function(b,w){var A=v[w];if(b!==m&&A){var S=A.value;y.mapper&&(S=m.axis.scale.parse(y.mapper(S,za(b),za(m)))),p[m.key]=S}})}),T(p,function(m,x){Ha(h[x],m,g,!0,d)}),Xl(v,h,d),Yl(f,i,r,o),Zl(h,o,e),d}}function Ha(r,t,e,a,i){var n=r.axis;if(!(n.scale.isBlank()||!n.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var o=zl(t,r),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&W(i,s[0]),!a&&r.snap&&n.containData(l)&&l!=null&&(t=l),e.showPointer(r,t,s),e.showTooltip(r,o,l)}}function zl(r,t){var e=t.axis,a=e.dim,i=r,n=[],o=Number.MAX_VALUE,s=-1;return T(t.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(a),c,d;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(h,r,e);d=v.dataIndices,c=v.nestestValue}else{if(d=l.getData().indicesOfNearest(h[0],r,e.type==="category"?.5:null),!d.length)return;c=l.getData().get(h[0],d[0])}if(!(c==null||!isFinite(c))){var f=r-c,g=Math.abs(f);g<=o&&((g<o||f>=0&&s<0)&&(o=g,s=f,i=c,n.length=0),T(d,function(p){n.push({seriesIndex:l.seriesIndex,dataIndexInside:p,dataIndex:l.getData().getRawIndex(p)})}))}}),{payloadBatch:n,snapToValue:i}}function Wl(r,t,e,a){r[t.key]={value:e,payloadBatch:a}}function Fl(r,t,e,a){var i=e.payloadBatch,n=t.axis,o=n.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=rt(l),h=r.map[u];h||(h=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Xl(r,t,e){var a=e.axesInfo=[];T(t,function(i,n){var o=i.axisPointerModel.option,s=r[n];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&a.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Yl(r,t,e,a){if(xt(t)||!r.list.length){a({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function Zl(r,t,e){var a=e.getZr(),i="axisPointerLastHighlights",n=Ga(a)[i]||{},o=Ga(a)[i]={};T(r,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&T(c.seriesDataIndices,function(d){var v=d.seriesIndex+" | "+d.dataIndex;o[v]=d})});var s=[],l=[];T(n,function(u,h){!o[h]&&l.push(u)}),T(o,function(u,h){!n[h]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Ul(r,t){for(var e=0;e<(r||[]).length;e++){var a=r[e];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function za(r){var t=r.axis.model,e={},a=e.axisDim=r.axis.dim;return e.axisIndex=e[a+"AxisIndex"]=t.componentIndex,e.axisName=e[a+"AxisName"]=t.name,e.axisId=e[a+"AxisId"]=t.id,e}function xt(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function qi(r){Di.registerAxisPointerClass("CartesianAxisPointer",Pl),r.registerComponentModel(Rl),r.registerComponentView(Gl),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!G(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=fs(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Hl)}function Du(r){Fe(Ds),Fe(qi)}function $l(r,t){var e=Tr(t.get("padding")),a=t.getItemStyle(["color","opacity"]);return a.fill=t.get("backgroundColor"),r=new ve({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var ql=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t})(Xe);function Ki(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function ji(r){if(ie.domSupported){for(var t=document.documentElement.style,e=0,a=r.length;e<a;e++)if(r[e]in t)return r[e]}}var Ji=ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kl=ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Qi(r,t){if(!r)return t;t=mi(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function jl(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var Jl=Qi(Kl,"transition"),kr=Qi(Ji,"transform"),Ql="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ie.transform3dSupported?"will-change:transform;":"");function eu(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function tu(r,t,e){if(!q(e)||e==="inside")return"";var a=r.get("backgroundColor"),i=r.get("borderWidth");t=_t(t);var n=eu(e),o=Math.max(Math.round(i)*1.5,6),s="",l=kr+":",u;me(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+i,d=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),v=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-c)/2)*100)/100;s+=";"+n+":-"+v+"px";var f=t+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+f,"border-right:"+f,"background-color:"+a+";"];return'<div style="'+g.join("")+'"></div>'}function ru(r,t){var e="cubic-bezier(0.23,1,0.32,1)",a=" "+r/2+"s "+e,i="opacity"+a+",visibility"+a;return t||(a=" "+r+"s "+e,i+=ie.transformSupported?","+kr+a:",left"+a+",top"+a),Jl+":"+i}function Wa(r,t,e){var a=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!ie.transformSupported)return e?"top:"+i+";left:"+a+";":[["top",i],["left",a]];var n=ie.transform3dSupported,o="translate"+(n?"3d":"")+"("+a+","+i+(n?",0":"")+")";return e?"top:0;left:0;"+kr+":"+o+";":[["top",0],["left",0],[Ji,o]]}function au(r){var t=[],e=r.get("fontSize"),a=r.getTextColor();a&&t.push("color:"+a),t.push("font:"+r.getFont());var i=Re(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var n=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,s=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return n&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),T(["decoration","align"],function(u){var h=r.get(u);h&&t.push("text-"+u+":"+h)}),t.join(";")}function iu(r,t,e){var a=[],i=r.get("transitionDuration"),n=r.get("backgroundColor"),o=r.get("shadowBlur"),s=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),h=r.getModel("textStyle"),c=yi(r,"html"),d=l+"px "+u+"px "+o+"px "+s;return a.push("box-shadow:"+d),t&&i&&a.push(ru(i,e)),n&&a.push("background-color:"+n),T(["width","color","radius"],function(v){var f="border-"+v,g=mi(f),p=r.get(g);p!=null&&a.push(f+":"+p+(v==="color"?"":"px"))}),a.push(au(h)),c!=null&&a.push("padding:"+Tr(c).join("px ")+"px"),a.join(";")+";"}function Fa(r,t,e,a,i){var n=t&&t.painter;if(e){var o=n&&n.getViewportRoot();o&&ao(r,o,e,a,i)}else{r[0]=a,r[1]=i;var s=n&&n.getViewportRootOffset();s&&(r[0]+=s.offsetLeft,r[1]+=s.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var nu=(function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ie.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=t.getZr(),n=e.appendTo,o=n&&(q(n)?document.querySelector(n):Yr(n)?n:le(n)&&n(t.getDom()));Fa(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(a),this._api=t,this._container=o;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,h=i.painter.getViewportRoot();ro(h,l,!0),u.dispatch("mousemove",l)}},a.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),a=jl(e,"position"),i=e.style;i.position!=="absolute"&&a!=="absolute"&&(i.position="relative")}var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,i=a.style,n=this._styleCoord;a.innerHTML?i.cssText=Ql+iu(t,!this._firstShow,this._longHide)+Wa(n[0],n[1],!0)+("border-color:"+_t(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,a,i,n){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(q(n)&&a.get("trigger")==="item"&&!Ki(a)&&(s=tu(a,i,n)),q(t))o.innerHTML=t+s;else if(t){o.innerHTML="",G(t)||(t=[t]);for(var l=0;l<t.length;l++)Yr(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var a=this._styleCoord;if(Fa(a,this._zr,this._container,t,e),a[0]!=null&&a[1]!=null){var i=this.el.style,n=Wa(a[0],a[1]);T(n,function(o){i[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ie.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},r})(),ou=(function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Ya(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,a,i,n){var o=this;ce(t)&&io(""),this.el&&this._zr.remove(this.el);var s=a.getModel("textStyle");this.el=new he({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:yi(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),T(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=a.get(u)}),T(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),a=Xa(t.style);return[e.width+a.left+a.right,e.height+a.top+a.bottom]},r.prototype.moveTo=function(t,e){var a=this.el;if(a){var i=this._styleCoord;Ya(i,this._zr,t,e),t=i[0],e=i[1];var n=a.style,o=_e(n.borderWidth||0),s=Xa(n);a.x=t+o+s.left,a.y=e+o+s.top,a.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout($(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function _e(r){return Math.max(0,r)}function Xa(r){var t=_e(r.shadowBlur||0),e=_e(r.shadowOffsetX||0),a=_e(r.shadowOffsetY||0);return{left:_e(t-e),right:_e(t+e),top:_e(t-a),bottom:_e(t+a)}}function Ya(r,t,e,a){r[0]=e,r[1]=a,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var su=new ve({shape:{x:-1,y:-1,width:2,height:2}}),lu=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,a){if(!(ie.node||!a.getDom())){var i=e.getComponent("tooltip"),n=this._renderMode=no(i.get("renderMode"));this._tooltipContent=n==="richText"?new ou(a):new nu(a,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,a,i){if(!(ie.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=a,this._api=i;var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?gi(this,"_updatePosition",50,"fixRate"):rr(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,a=e.get("triggerOn");Ui("itemTooltip",this._api,$(function(i,n,o){a!=="none"&&(a.indexOf(i)>=0?this._tryShow(n,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,a=this._ecModel,i=this._api,n=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,a,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,a,i,n){if(!(n.from===this.uid||ie.node||!i.getDom())){var o=Za(n,i);this._ticket="";var s=n.dataByCoordSys,l=vu(n,a,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var h=su;h.x=n.x,h.y=n.y,h.update(),K(h).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:h},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(e,a,i,n))return;var c=$i(n,a),d=c.point[0],v=c.point[1];d!=null&&v!=null&&this._tryShow({offsetX:d,offsetY:v,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},t.prototype.manuallyHideTip=function(e,a,i,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(Za(n,i))},t.prototype._manuallyAxisShowTip=function(e,a,i,n){var o=n.seriesIndex,s=n.dataIndex,l=a.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=a.getSeriesByIndex(o);if(u){var h=u.getData(),c=qe([h.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},t.prototype._tryShow=function(e,a){var i=e.target,n=this._tooltipModel;if(n){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var s=K(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;oo(i,function(h){if(K(h).dataIndex!=null)return l=h,!0;if(K(h).tooltipConfig!=null)return u=h,!0},!0),l?this._showSeriesItemTooltip(e,l,a):u?this._showComponentItemTooltip(e,u,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},t.prototype._showOrMove=function(e,a){var i=e.get("showDelay");a=$(a,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(a,i):a()},t.prototype._showAxisTooltip=function(e,a){var i=this._ecModel,n=this._tooltipModel,o=[a.offsetX,a.offsetY],s=qe([a.tooltipOption],n),l=this._renderMode,u=[],h=Qt("section",{blocks:[],noHeader:!0}),c=[],d=new Vt;T(e,function(x){T(x.dataByAxis,function(y){var b=i.getComponent(y.axisDim+"Axis",y.axisIndex),w=y.value;if(!(!b||w==null)){var A=Yi(w,b.axis,i,y.seriesDataIndices,y.valueLabelOpt),S=Qt("section",{header:A,noHeader:!so(A),sortBlocks:!0,blocks:[]});h.blocks.push(S),T(y.seriesDataIndices,function(_){var I=i.getSeriesByIndex(_.seriesIndex),M=_.dataIndexInside,C=I.getDataParams(M);if(!(C.dataIndex<0)){C.axisDim=y.axisDim,C.axisIndex=y.axisIndex,C.axisType=y.axisType,C.axisId=y.axisId,C.axisValue=pi(b.axis,{value:w}),C.axisValueLabel=A,C.marker=d.makeTooltipMarker("item",_t(C.color),l);var D=Zr(I.formatTooltip(M,!0,null)),L=D.frag;if(L){var R=qe([I],n).get("valueFormatter");S.blocks.push(R?W({valueFormatter:R},L):L)}D.text&&c.push(D.text),u.push(C)}})}})}),h.blocks.reverse(),c.reverse();var v=a.position,f=s.get("order"),g=Ur(h,d,l,f,i.get("useUTC"),s.get("textStyle"));g&&c.unshift(g);var p=l==="richText"?`

`:"<br/>",m=c.join(p);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],v,null,d)})},t.prototype._showSeriesItemTooltip=function(e,a,i){var n=this._ecModel,o=K(a),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,h=o.dataIndex,c=o.dataType,d=u.getData(c),v=this._renderMode,f=e.positionDefault,g=qe([d.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),p=g.get("trigger");if(!(p!=null&&p!=="item")){var m=u.getDataParams(h,c),x=new Vt;m.marker=x.makeTooltipMarker("item",_t(m.color),v);var y=Zr(u.formatTooltip(h,!1,c)),b=g.get("order"),w=g.get("valueFormatter"),A=y.frag,S=A?Ur(w?W({valueFormatter:w},A):A,x,v,b,n.get("useUTC"),g.get("textStyle")):y.text,_="item_"+u.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,S,m,_,e.offsetX,e.offsetY,e.position,e.target,x)}),i({type:"showTip",dataIndexInside:h,dataIndex:d.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,a,i){var n=this._renderMode==="html",o=K(a),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(q(l)){var h=l;l={content:h,formatter:h},u=!0}u&&n&&l.content&&(l=Be(l),l.content=lo(l.content));var c=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&c.push(d),c.push({formatter:l.content});var v=e.positionDefault,f=qe(c,this._tooltipModel,v?{position:v}:null),g=f.get("content"),p=Math.random()+"",m=new Vt;this._showOrMove(f,function(){var x=Be(f.get("formatterParams")||{});this._showTooltipContent(f,g,x,p,e.offsetX,e.offsetY,e.position,a,m)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,a,i,n,o,s,l,u,h){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var d=e.get("formatter");l=l||e.get("position");var v=a,f=this._getNearestPoint([o,s],i,e.get("trigger"),e.get("borderColor")),g=f.color;if(d)if(q(d)){var p=e.ecModel.get("useUTC"),m=G(i)?i[0]:i,x=m&&m.axisType&&m.axisType.indexOf("time")>=0;v=d,x&&(v=uo(m.axisValue,v,p)),v=ho(v,i,!0)}else if(le(d)){var y=$(function(b,w){b===this._ticket&&(c.setContent(w,h,e,g,l),this._updatePosition(e,l,o,s,c,i,u))},this);this._ticket=n,v=d(i,n,y)}else v=d;c.setContent(v,h,e,g,l),c.show(e,g),this._updatePosition(e,l,o,s,c,i,u)}},t.prototype._getNearestPoint=function(e,a,i,n){if(i==="axis"||G(a))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!G(a))return{color:n||a.color||a.borderColor}},t.prototype._updatePosition=function(e,a,i,n,o,s,l){var u=this._api.getWidth(),h=this._api.getHeight();a=a||e.get("position");var c=o.getSize(),d=e.get("align"),v=e.get("verticalAlign"),f=l&&l.getBoundingRect().clone();if(l&&f.applyTransform(l.transform),le(a)&&(a=a([i,n],s,o.el,f,{viewSize:[u,h],contentSize:c.slice()})),G(a))i=ae(a[0],u),n=ae(a[1],h);else if(ce(a)){var g=a;g.width=c[0],g.height=c[1];var p=Ve(g,{width:u,height:h});i=p.x,n=p.y,d=null,v=null}else if(q(a)&&l){var m=cu(a,f,c,e.get("borderWidth"));i=m[0],n=m[1]}else{var m=uu(i,n,o,u,h,d?null:20,v?null:20);i=m[0],n=m[1]}if(d&&(i-=Ua(d)?c[0]/2:d==="right"?c[0]:0),v&&(n-=Ua(v)?c[1]/2:v==="bottom"?c[1]:0),Ki(e)){var m=hu(i,n,o,u,h);i=m[0],n=m[1]}o.moveTo(i,n)},t.prototype._updateContentNotChangedOnAxis=function(e,a){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===e.length;return o&&T(i,function(s,l){var u=s.dataByAxis||[],h=e[l]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&T(u,function(d,v){var f=c[v]||{},g=d.seriesDataIndices||[],p=f.seriesDataIndices||[];o=o&&d.value===f.value&&d.axisType===f.axisType&&d.axisId===f.axisId&&g.length===p.length,o&&T(g,function(m,x){var y=p[x];o=o&&m.seriesIndex===y.seriesIndex&&m.dataIndex===y.dataIndex}),n&&T(d.seriesDataIndices,function(m){var x=m.seriesIndex,y=a[x],b=n[x];y&&b&&b.data!==y.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=a,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,a){ie.node||!a.getDom()||(rr(this,"_updatePosition"),this._tooltipContent.dispose(),vr("itemTooltip",a))},t.type="tooltip",t})(Ye);function qe(r,t,e){var a=t.ecModel,i;e?(i=new fe(e,a,a),i=new fe(t.option,i,a)):i=t;for(var n=r.length-1;n>=0;n--){var o=r[n];o&&(o instanceof fe&&(o=o.get("tooltip",!0)),q(o)&&(o={formatter:o}),o&&(i=new fe(o,i,a)))}return i}function Za(r,t){return r.dispatchAction||$(t.dispatchAction,t)}function uu(r,t,e,a,i,n,o){var s=e.getSize(),l=s[0],u=s[1];return n!=null&&(r+l+n+2>a?r-=l+n:r+=n),o!=null&&(t+u+o>i?t-=u+o:t+=o),[r,t]}function hu(r,t,e,a,i){var n=e.getSize(),o=n[0],s=n[1];return r=Math.min(r+o,a)-o,t=Math.min(t+s,i)-s,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function cu(r,t,e,a){var i=e[0],n=e[1],o=Math.ceil(Math.SQRT2*a)+8,s=0,l=0,u=t.width,h=t.height;switch(r){case"inside":s=t.x+u/2-i/2,l=t.y+h/2-n/2;break;case"top":s=t.x+u/2-i/2,l=t.y-n-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+h+o;break;case"left":s=t.x-i-o,l=t.y+h/2-n/2;break;case"right":s=t.x+u+o,l=t.y+h/2-n/2}return[s,l]}function Ua(r){return r==="center"||r==="middle"}function vu(r,t,e){var a=co(r).queryOptionMap,i=a.keys()[0];if(!(!i||i==="series")){var n=vo(t,i,a.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=e.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var h=K(u).tooltipConfig;if(h&&h.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function Lu(r){Fe(qi),r.registerComponentModel(ql),r.registerComponentView(lu),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},tt),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},tt)}var du=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t})(Xe),fu=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,i){if(this.group.removeAll(),!!e.get("show")){var n=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=Re(e.get("textBaseline"),e.get("textVerticalAlign")),h=new he({style:De(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),d=e.get("subtext"),v=new he({style:De(s,{text:d,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),g=e.get("sublink"),p=e.get("triggerEvent",!0);h.silent=!f&&!p,v.silent=!g&&!p,f&&h.on("click",function(){tr(f,"_"+e.get("target"))}),g&&v.on("click",function(){tr(g,"_"+e.get("subtarget"))}),K(h).eventData=K(v).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,n.add(h),d&&n.add(v);var m=n.getBoundingRect(),x=e.getBoxLayoutParams();x.width=m.width,x.height=m.height;var y=Ve(x,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),n.x=y.x,n.y=y.y,n.markRedraw();var b={align:l,verticalAlign:u};h.setStyle(b),v.setStyle(b),m=n.getBoundingRect();var w=y.margin,A=e.getItemStyle(["color","opacity"]);A.fill=e.get("backgroundColor");var S=new ve({shape:{x:m.x-w[3],y:m.y-w[0],width:m.width+w[1]+w[3],height:m.height+w[0]+w[2],r:e.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});n.add(S)}},t.type="title",t})(Ye);function Mu(r){r.registerComponentModel(du),r.registerComponentView(fu)}var gu=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},dr=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,a,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,a){r.prototype.mergeOption.call(this,e,a),this._updateSelector(e)},t.prototype._updateSelector=function(e){var a=e.selector,i=this.ecModel;a===!0&&(a=e.selector=["all","inverse"]),G(a)&&T(a,function(n,o){q(n)&&(n={type:n}),a[o]=Te(n,gu(i,n.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var a=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),a=!0;break}}!a&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var a=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,d=c.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(d)),d.length?a=a.concat(d):h=!0}else h=!0;h&&fo(l)&&a.push(l.name)}),this._availableNames=i;var n=this.get("data")||a,o=Mt(),s=xe(n,function(l){return(q(l)||ot(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new fe(l,this,this.ecModel))},this);this._data=br(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var a=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;T(n,function(o){a[o.get("name")]=!1})}a[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var a=this.option.selected;a.hasOwnProperty(e)||(a[e]=!0),this[a[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,a=this.option.selected;T(e,function(i){a[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,a=this.option.selected;T(e,function(i){var n=i.get("name",!0);a.hasOwnProperty(n)||(a[n]=!0),a[n]=!a[n]})},t.prototype.isSelected=function(e){var a=this.option.selected;return!(a.hasOwnProperty(e)&&!a[e])&&me(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t})(Xe),Ne=U,fr=T,pt=ue,en=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new pt),this.group.add(this._selectorGroup=new pt),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,a,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,a,i,l,s,u);var h=e.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},d=e.get("padding"),v=Ve(h,c,d),f=this.layoutInner(e,o,v,n,l,u),g=Ve(se({width:f.width,height:f.height},h),c,d);this.group.x=g.x-f.x,this.group.y=g.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=$l(f,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,a,i,n,o,s,l){var u=this.getContentGroup(),h=Mt(),c=a.get("selectedMode"),d=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&d.push(v.id)}),fr(a.getData(),function(v,f){var g=v.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var p=new pt;p.newline=!0,u.add(p);return}var m=i.getSeriesByName(g)[0];if(!h.get(g))if(m){var x=m.getData(),y=x.getVisual("legendLineStyle")||{},b=x.getVisual("legendIcon"),w=x.getVisual("style"),A=this._createItem(m,g,f,v,a,e,y,w,b,c,n);A.on("click",Ne($a,g,null,n,d)).on("mouseover",Ne(gr,m.name,null,n,d)).on("mouseout",Ne(pr,m.name,null,n,d)),i.ssr&&A.eachChild(function(S){var _=K(S);_.seriesIndex=m.seriesIndex,_.dataIndex=f,_.ssrType="legend"}),h.set(g,!0)}else i.eachRawSeries(function(S){if(!h.get(g)&&S.legendVisualProvider){var _=S.legendVisualProvider;if(!_.containName(g))return;var I=_.indexOfName(g),M=_.getItemVisual(I,"style"),C=_.getItemVisual(I,"legendIcon"),D=vi(M.fill);D&&D[3]===0&&(D[3]=.2,M=W(W({},M),{fill:mt(D,"rgba")}));var L=this._createItem(S,g,f,v,a,e,{},M,C,c,n);L.on("click",Ne($a,null,g,n,d)).on("mouseover",Ne(gr,null,g,n,d)).on("mouseout",Ne(pr,null,g,n,d)),i.ssr&&L.eachChild(function(R){var P=K(R);P.seriesIndex=S.seriesIndex,P.dataIndex=f,P.ssrType="legend"}),h.set(g,!0)}},this)},this),o&&this._createSelector(o,a,n,s,l)},t.prototype._createSelector=function(e,a,i,n,o){var s=this.getSelectorGroup();fr(e,function(u){var h=u.type,c=new he({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:a.id})}});s.add(c);var d=a.getModel("selectorLabel"),v=a.getModel(["emphasis","selectorLabel"]);Lt(c,{normal:d,emphasis:v},{defaultText:u.title}),$r(c)})},t.prototype._createItem=function(e,a,i,n,o,s,l,u,h,c,d){var v=e.visualDrawType,f=o.get("itemWidth"),g=o.get("itemHeight"),p=o.isSelected(a),m=n.get("symbolRotate"),x=n.get("symbolKeepAspect"),y=n.get("icon");h=y||h||"roundRect";var b=pu(h,n,l,u,v,p,d),w=new pt,A=n.getModel("textStyle");if(le(e.getLegendIcon)&&(!y||y==="inherit"))w.add(e.getLegendIcon({itemWidth:f,itemHeight:g,icon:h,iconRotate:m,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}));else{var S=y==="inherit"&&e.getData().getVisual("symbol")?m==="inherit"?e.getData().getVisual("symbolRotate"):m:0;w.add(mu({itemWidth:f,itemHeight:g,icon:h,iconRotate:S,itemStyle:b.itemStyle,symbolKeepAspect:x}))}var _=s==="left"?f+5:-5,I=s,M=o.get("formatter"),C=a;q(M)&&M?C=M.replace("{name}",a??""):le(M)&&(C=M(a));var D=p?A.getTextColor():n.get("inactiveColor");w.add(new he({style:De(A,{text:C,x:_,y:g/2,fill:D,align:I,verticalAlign:"middle"},{inheritColor:D})}));var L=new ve({shape:w.getBoundingRect(),style:{fill:"transparent"}}),R=n.getModel("tooltip");return R.get("show")&&Sr({el:L,componentModel:o,itemName:a,itemTooltipOption:R.option}),w.add(L),w.eachChild(function(P){P.silent=!0}),L.silent=!c,this.getContentGroup().add(w),$r(w),w.__legendDataIndex=i,w},t.prototype.layoutInner=function(e,a,i,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();et(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),o){et("horizontal",u,e.get("selectorItemGap",!0));var d=u.getBoundingRect(),v=[-d.x,-d.y],f=e.get("selectorButtonGap",!0),g=e.getOrient().index,p=g===0?"width":"height",m=g===0?"height":"width",x=g===0?"y":"x";s==="end"?v[g]+=h[p]+f:c[g]+=d[p]+f,v[1-g]+=h[m]/2-d[m]/2,u.x=v[0],u.y=v[1],l.x=c[0],l.y=c[1];var y={x:0,y:0};return y[p]=h[p]+f+d[p],y[m]=Math.max(h[m],d[m]),y[x]=Math.min(0,d[x]+v[1-g]),y}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Ye);function pu(r,t,e,a,i,n,o){function s(p,m){p.lineWidth==="auto"&&(p.lineWidth=m.lineWidth>0?2:0),fr(p,function(x,y){p[y]==="inherit"&&(p[y]=m[y])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),h=r.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?a.decal:go(c,o),u.fill==="inherit"&&(u.fill=a[i]),u.stroke==="inherit"&&(u.stroke=a[h]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?a:e).opacity),s(u,a);var d=t.getModel("lineStyle"),v=d.getLineStyle();if(s(v,e),u.fill==="auto"&&(u.fill=a.fill),u.stroke==="auto"&&(u.stroke=a.fill),v.stroke==="auto"&&(v.stroke=a.fill),!n){var f=t.get("inactiveBorderWidth"),g=u[h];u.lineWidth=f==="auto"?a.lineWidth>0&&g?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),v.stroke=d.get("inactiveColor"),v.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function mu(r){var t=r.icon||"roundRect",e=si(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function $a(r,t,e,a){pr(r,t,e,a),e.dispatchAction({type:"legendToggleSelect",name:r??t}),gr(r,t,e,a)}function tn(r){for(var t=r.getZr().storage.getDisplayList(),e,a=0,i=t.length;a<i&&!(e=t[a].states.emphasis);)a++;return e&&e.hoverLayer}function gr(r,t,e,a){tn(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:a})}function pr(r,t,e,a){tn(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:a})}function yu(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var a=0;a<t.length;a++)if(!t[a].isSelected(e.name))return!1;return!0})}function Ke(r,t,e){var a=r==="allSelect"||r==="inverseSelect",i={},n=[];e.eachComponent({mainType:"legend",query:t},function(s){a?s[r]():s[r](t.name),qa(s,i),n.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){T(i,function(l,u){s[l?"select":"unSelect"](u)}),qa(s,o)}),a?{selected:o,legendIndex:n}:{name:t.name,selected:o}}function qa(r,t){var e=t||{};return T(r.getData(),function(a){var i=a.get("name");if(!(i===`
`||i==="")){var n=r.isSelected(i);po(e,i)?e[i]=e[i]&&n:e[i]=n}}),e}function xu(r){r.registerAction("legendToggleSelect","legendselectchanged",U(Ke,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",U(Ke,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",U(Ke,"inverseSelect")),r.registerAction("legendSelect","legendselected",U(Ke,"select")),r.registerAction("legendUnSelect","legendunselected",U(Ke,"unSelect"))}function rn(r){r.registerComponentModel(dr),r.registerComponentView(en),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,yu),r.registerSubTypeDefaulter("legend",function(){return"plain"}),xu(r)}var bu=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,a,i){var n=ni(e);r.prototype.init.call(this,e,a,i),Ka(this,e,n)},t.prototype.mergeOption=function(e,a){r.prototype.mergeOption.call(this,e,a),Ka(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Qa(dr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t})(dr);function Ka(r,t,e){var a=r.getOrient(),i=[1,1];i[a.index]=0,oi(t,e,{type:"box",ignoreSize:!!i})}var ja=ue,qt=["width","height"],Kt=["x","y"],wu=(function(r){B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new ja),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ja)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,a,i,n,o,s,l){var u=this;r.prototype.renderInner.call(this,e,a,i,n,o,s,l);var h=this._controllerGroup,c=a.get("pageIconSize",!0),d=G(c)?c:[c,c];f("pagePrev",0);var v=a.getModel("pageTextStyle");h.add(new he({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1);function f(g,p){var m=g+"DataIndex",x=fi(a.get("pageIcons",!0)[a.getOrient().name][p],{onclick:$(u._pageGo,u,m,a,n)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});x.name=g,h.add(x)}},t.prototype.layoutInner=function(e,a,i,n,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=qt[u],c=Kt[u],d=qt[1-u],v=Kt[1-u];o&&et("horizontal",l,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),p=[-g.x,-g.y],m=Be(i);o&&(m[h]=i[h]-g[h]-f);var x=this._layoutContentAndController(e,n,m,u,h,d,v,c);if(o){if(s==="end")p[u]+=x[h]+f;else{var y=g[h]+f;p[u]-=y,x[c]-=y}x[h]+=g[h]+f,p[1-u]+=x[v]+x[d]/2-g[d]/2,x[d]=Math.max(x[d],g[d]),x[v]=Math.min(x[v],g[v]+p[1-u]),l.x=p[0],l.y=p[1],l.markRedraw()}return x},t.prototype._layoutContentAndController=function(e,a,i,n,o,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,d=this._controllerGroup;et(e.get("orient"),h,e.get("itemGap"),n?i.width:null,n?null:i.height),et("horizontal",d,e.get("pageButtonItemGap",!0));var v=h.getBoundingRect(),f=d.getBoundingRect(),g=this._showController=v[o]>i[o],p=[-v.x,-v.y];a||(p[n]=h[u]);var m=[0,0],x=[-f.x,-f.y],y=Re(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var b=e.get("pageButtonPosition",!0);b==="end"?x[n]+=i[o]-f[o]:m[n]+=f[o]+y}x[1-n]+=v[s]/2-f[s]/2,h.setPosition(p),c.setPosition(m),d.setPosition(x);var w={x:0,y:0};if(w[o]=g?i[o]:v[o],w[s]=Math.max(v[s],f[s]),w[l]=Math.min(0,f[l]+x[1-n]),c.__rectSize=i[o],g){var A={x:0,y:0};A[o]=Math.max(i[o]-f[o]-y,0),A[s]=w[s],c.setClipPath(new ve({shape:A})),c.__rectSize=A[o]}else d.eachChild(function(_){_.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(e);return S.pageIndex!=null&&ye(h,{x:S.contentPosition[0],y:S.contentPosition[1]},g?e:null),this._updatePageInfoView(e,S),w},t.prototype._pageGo=function(e,a,i){var n=this._getPageInfo(a)[e];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:a.id})},t.prototype._updatePageInfoView=function(e,a){var i=this._controllerGroup;T(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",d=a[c]!=null,v=i.childOfName(h);v&&(v.setStyle("fill",d?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),v.cursor=d?"pointer":"default")});var n=i.childOfName("pageText"),o=e.get("pageFormatter"),s=a.pageIndex,l=s!=null?s+1:0,u=a.pageCount;n&&o&&n.setStyle("text",q(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var a=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,s=qt[o],l=Kt[o],u=this._findTargetItemIndex(a),h=i.children(),c=h[u],d=h.length,v=d?1:0,f={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return f;var g=b(c);f.contentPosition[o]=-g.s;for(var p=u+1,m=g,x=g,y=null;p<=d;++p)y=b(h[p]),(!y&&x.e>m.s+n||y&&!w(y,m.s))&&(x.i>m.i?m=x:m=y,m&&(f.pageNextDataIndex==null&&(f.pageNextDataIndex=m.i),++f.pageCount)),x=y;for(var p=u-1,m=g,x=g,y=null;p>=-1;--p)y=b(h[p]),(!y||!w(x,y.s))&&m.i<x.i&&(x=m,f.pagePrevDataIndex==null&&(f.pagePrevDataIndex=m.i),++f.pageCount,++f.pageIndex),m=y;return f;function b(A){if(A){var S=A.getBoundingRect(),_=S[l]+A[l];return{s:_,e:_+S[s],i:A.__legendDataIndex}}}function w(A,S){return A.e>=S&&A.s<=S+n}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var a,i=this.getContentGroup(),n;return i.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===e&&(a=s)}),a??n},t.type="legend.scroll",t})(en);function Su(r){r.registerAction("legendScroll","legendscroll",function(t,e){var a=t.scrollDataIndex;a!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})})}function Au(r){Fe(rn),r.registerComponentModel(bu),r.registerComponentView(wu),Su(r)}function Pu(r){Fe(rn),Fe(Au)}export{Mu as a,Lu as b,Pu as c,Iu as d,Tu as e,Du as f,Cu as i};
//# sourceMappingURL=echarts-charts--KY6x23a.js.map
